<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>GOJO INFINITY </title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --primary-black: #0a0a0a;
      --carbon-dark: #121212;
      --carbon-medium: #1a1a1a;
      --carbon-light: #2a2a2a;
      --accent-purple: #b19cd9;
      --accent-purple-light: #d8c8ff;
      --accent-purple-dark: #8a6bc9;
      --text-primary: #ffffff;
      --text-secondary: #e0e0e0;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: Poppins, sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-black);
      overflow: hidden;
      padding: 15px;
      position: relative;
      -webkit-font-smoothing: antialiased;
    }
    
    /* Animated grid background dengan aksen ungu */
    .grid-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
        var(--primary-black);
      z-index: -2;
    }
    
    .card {
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      padding: 30px 25px;
      width: 100%;
      max-width: 400px;
      text-align: center;
      box-shadow: 
        0 10px 25px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(177, 156, 217, 0.2);
      animation: cardAppear 1s ease-out;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent-purple-light), white, transparent);
      border-radius: 16px 16px 0 0;
    }
    
    @keyframes cardAppear {
      0% { 
        opacity: 0; 
        transform: translateY(30px) scale(0.95); 
      }
      100% { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }
    
    .logo-container {
      position: relative;
      width: 100%;
      max-width: 280px;
      height: 120px;
      margin: 0 auto 25px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-frame {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(177, 156, 217, 0.2));
      padding: 3px;
      box-shadow: 
        0 0 15px rgba(255, 255, 255, 0.1),
        0 0 25px rgba(177, 156, 217, 0.3),
        inset 0 0 15px rgba(255, 255, 255, 0.05);
      animation: framePulse 4s ease-in-out infinite;
    }

    .logo {
      width: 100%;
      height: 100%;
      border-radius: 10px;
      object-fit: cover;
      display: block;
      z-index: 1;
      position: relative;
      background: var(--carbon-dark);
      border: 1px solid rgba(255, 255, 255, 0.1);
      filter: grayscale(100%) contrast(120%) brightness(110%);
    }

    @keyframes framePulse {
      0%, 100% {
        box-shadow: 
          0 0 15px rgba(255, 255, 255, 0.1),
          0 0 25px rgba(177, 156, 217, 0.3),
          inset 0 0 15px rgba(255, 255, 255, 0.05);
      }
      50% {
        box-shadow: 
          0 0 20px rgba(255, 255, 255, 0.15),
          0 0 35px rgba(216, 200, 255, 0.5),
          inset 0 0 20px rgba(255, 255, 255, 0.08);
      }
    }
    
    /* Text Rotator Styles */
    .text-rotator {
      position: relative;
      min-height: 100px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .text-set {
      position: absolute;
      width: 100%;
      opacity: 0;
      display: none;
    }

    .text-set.active {
      opacity: 1;
      display: block;
    }

    .glitch-text {
      font-family: 'Orbitron', monospace;
      font-size: 32px;
      font-weight: 900;
      position: relative;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: white;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      overflow: hidden;
      margin-bottom: 10px;
    }

    .char {
      display: inline-block;
      opacity: 0;
      transform: translateY(50px);
      animation: charFlyIn 0.5s ease-out forwards;
    }

    @keyframes charFlyIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .char.out {
      animation: charFlyOut 0.3s ease-in forwards;
    }

    @keyframes charFlyOut {
      to {
        opacity: 0;
        transform: translateY(-30px) rotateX(90deg);
      }
    }

    /* Glitch effect dengan warna putih dan ungu muda */
    .glitch-text::before,
    .glitch-text::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .glitch-text::before {
      animation: glitch-1 0.5s infinite;
      color: var(--accent-purple-light);
      z-index: -1;
      text-shadow: -2px 0 var(--accent-purple-light);
    }

    .glitch-text::after {
      animation: glitch-2 0.5s infinite;
      color: white;
      z-index: -1;
      text-shadow: 2px 0 var(--accent-purple);
    }

    @keyframes glitch-1 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(33% 0 33% 0); transform: translate(-2px); }
      40% { clip-path: inset(66% 0 0 0); transform: translate(2px); }
      60% { clip-path: inset(0 0 66% 0); transform: translate(1px); }
      80% { clip-path: inset(25% 0 50% 0); transform: translate(-1px); }
    }

    @keyframes glitch-2 {
      0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
      20% { clip-path: inset(50% 0 25% 0); transform: translate(2px); }
      40% { clip-path: inset(0 0 75% 0); transform: translate(-2px); }
      60% { clip-path: inset(75% 0 0 0); transform: translate(-1px); }
      80% { clip-path: inset(40% 0 40% 0); transform: translate(1px); }
    }
    
    .subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 25px;
      font-weight: 400;
      letter-spacing: 0.6px;
      font-family: 'Courier New', monospace;
      line-height: 1.4;
    }
    
    .form-group {
      position: relative;
      margin-bottom: 20px;
    }
    
    .form-group i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
      font-size: 16px;
      z-index: 2;
      transition: all 0.3s ease;
    }
    
    input {
      width: 100%;
      padding: 16px 15px 16px 45px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-primary);
      font-size: 16px;
      outline: none;
      transition: all 0.3s ease;
      font-weight: 500;
      -webkit-appearance: none;
    }
    
    input:focus {
      border-color: rgba(255, 255, 255, 0.4);
      box-shadow: 
        0 0 0 2px rgba(216, 200, 255, 0.2),
        0 0 15px rgba(216, 200, 255, 0.2);
      background: rgba(255, 255, 255, 0.08);
    }
    
    input:focus + i {
      color: var(--accent-purple-light);
      transform: translateY(-50%) scale(1.1);
    }
    
    input::placeholder {
      color: var(--text-secondary);
      font-weight: 400;
    }
    
    button {
      width: 100%;
      padding: 18px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(177, 156, 217, 0.2));
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 0 15px rgba(177, 156, 217, 0.2);
      position: relative;
      overflow: hidden;
      margin-top: 15px;
      letter-spacing: 0.8px;
      z-index: 1;
      -webkit-appearance: none;
    }
    
    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(177, 156, 217, 0.3), transparent);
      transition: left 0.7s;
    }
    
    button:hover::before,
    button:active::before {
      left: 100%;
    }
    
    button:hover,
    button:active {
      transform: translateY(-2px);
      box-shadow: 
        0 0 25px rgba(177, 156, 217, 0.4);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(177, 156, 217, 0.3));
    }
    
    button:active {
      transform: scale(0.98);
    }
    
    button i {
      margin-right: 10px;
      font-size: 16px;
    }
    
    .buy-access {
      margin-top: 20px;
      display: inline-block;
      font-size: 14px;
      padding: 14px 22px;
      border-radius: 12px;
      font-weight: 500;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(177, 156, 217, 0.2));
      color: white;
      text-decoration: none;
      box-shadow: 0 0 15px rgba(177, 156, 217, 0.2);
      font-family: Poppins, sans-serif;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.15);
      position: relative;
      overflow: hidden;
      z-index: 1;
    }
    
    .buy-access::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(177, 156, 217, 0.3), transparent);
      transition: left 0.6s;
    }
    
    .buy-access:hover::before,
    .buy-access:active::before {
      left: 100%;
    }
    
    .buy-access:hover,
    .buy-access:active { 
      transform: translateY(-2px);
      box-shadow: 0 0 25px rgba(177, 156, 217, 0.4);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(177, 156, 217, 0.3));
    }
    
    .buy-access i {
      margin-right: 8px;
    }
    
    .footer {
      margin-top: 25px;
      font-size: 11px;
      color: var(--text-secondary);
      opacity: 0.8;
      font-family: 'Courier New', monospace;
      line-height: 1.4;
    }
    
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(26, 26, 26, 0.95);
      color: white;
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      box-shadow: 0 0 25px rgba(0, 0, 0, 0.5), 0 0 15px rgba(177, 156, 217, 0.3);
      opacity: 0;
      animation: fadeInOut 4s ease forwards;
      z-index: 100;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      max-width: 85%;
      text-align: center;
    }
    
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translate(-50%, 30px); }
      15% { opacity: 1; transform: translate(-50%, 0); }
      85% { opacity: 1; transform: translate(-50%, 0); }
      100% { opacity: 0; transform: translate(-50%, 30px); }
    }
    
    /* Floating dots animation dengan warna ungu */
    .floating-dots {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }
    
    .dot {
      position: absolute;
      border-radius: 50%;
      animation: float 15s infinite ease-in-out;
    }
    
    .dot:nth-child(odd) {
      background: rgba(255, 255, 255, 0.1);
    }
    
    .dot:nth-child(even) {
      background: rgba(177, 156, 217, 0.2);
    }
    
    @keyframes float {
      0%, 100% { 
        transform: translate(0, 0) scale(1); 
      }
      25% { 
        transform: translate(10px, -15px) scale(1.1); 
      }
      50% { 
        transform: translate(-5px, 10px) scale(0.9); 
      }
      75% { 
        transform: translate(15px, 5px) scale(1.05); 
      }
    }
    
    /* Security indicator dengan aksen ungu */
    .security-indicator {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 15px;
      font-size: 12px;
      color: var(--text-secondary);
    }
    
    .security-indicator i {
      margin-right: 8px;
      color: var(--accent-purple-light);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }
    
    /* Mobile-specific optimizations */
    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .card {
        padding: 25px 20px;
        border-radius: 14px;
      }
      
      .logo-container {
        height: 110px;
        max-width: 260px;
        margin-bottom: 20px;
      }
      
      .glitch-text {
        font-size: 24px;
      }
      
      .subtitle {
        font-size: 13px;
        margin-bottom: 20px;
      }
      
      input {
        padding: 14px 15px 14px 45px;
        font-size: 16px;
      }
      
      button {
        padding: 16px;
        font-size: 16px;
      }
      
      .buy-access {
        padding: 12px 20px;
        font-size: 13px;
      }
      
      .footer {
        font-size: 10px;
      }
    }
    
    @media (max-width: 360px) {
      .logo-container {
        height: 100px;
        max-width: 240px;
      }
      
      .glitch-text {
        font-size: 22px;
      }
      
      .subtitle {
        font-size: 12px;
      }
    }
    
    /* Prevent zoom on input focus for iOS */
    @media screen and (max-width: 768px) {
      input, textarea, select {
        font-size: 16px !important;
      }
    }
  </style>
</head>
<body>
  <!-- Animated Grid Background dengan aksen ungu -->
  <div class="grid-bg"></div>
  
  <!-- Floating Dots dengan variasi warna -->
  <div class="floating-dots" id="floatingDots"></div>

  <div class="card">
    <div class="logo-container">
      <div class="logo-frame"></div>
      <img class="logo" src="https://files.catbox.moe/e1rits.jpg" alt="GOJO INFINITY  Logo">
    </div>
    
    <!-- Text Rotator -->
    <div class="text-rotator">
      <div class="text-set active">
        <h1 class="glitch-text" data-text="VORTEX NOCTURN ">VORTEX NOCTURN </h1>
        <p class="subtitle">Gateway to System Endpoint API</p>
      </div>
      <div class="text-set">
        <h1 class="glitch-text" data-text="Aii Zuxy">AII NOCTURN</h1>
        <p class="subtitle"> The Developer of this Base</p>
      </div>
      <div class="text-set">
        <h1 class="glitch-text" data-text="WELCOME">WELCOME</h1>
        <p class="subtitle"> Welcome to this Web Api</p>
      </div>
    </div>

    <form method="POST" action="/auth">
      <div class="form-group">
        <i class="fas fa-user"></i>
        <input type="text" name="username" placeholder="Username" required />
      </div>
      <div class="form-group">
        <i class="fas fa-key"></i>
        <input type="password" name="key" placeholder="Password" required />
      </div>
      <button type="submit">
        <i class="fa-solid fa-right-to-bracket"></i>MASUK
      </button>
    </form>

    <div class="security-indicator">
      <i class="fas fa-shield-alt"></i> Secure Connection Encrypted
    </div>

    <a class="buy-access" href="https://t.me/leozema" target="_blank">
      <i class="fas fa-coins"></i> Get Key Access
    </a>

    <div class="footer">Â© 2025 - GOJO INFINITY </div>
  </div>

  <div id="toast" class="toast" style="display:none;"></div>
  
  <script>
    // Create floating dots
    function createFloatingDots() {
      const dotsContainer = document.getElementById('floatingDots');
      const dotCount = 8;
      
      for (let i = 0; i < dotCount; i++) {
        const dot = document.createElement('div');
        dot.classList.add('dot');
        
        // Random properties
        const size = Math.random() * 5 + 2;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 5;
        const duration = Math.random() * 10 + 10;
        
        dot.style.width = `${size}px`;
        dot.style.height = `${size}px`;
        dot.style.left = `${posX}%`;
        dot.style.top = `${posY}%`;
        dot.style.animationDelay = `${delay}s`;
        dot.style.animationDuration = `${duration}s`;
        
        dotsContainer.appendChild(dot);
      }
    }
    
    // Toast message handling
    const params = new URLSearchParams(window.location.search);
    const msg = params.get("msg");

    if (msg) {
      const toast = document.getElementById("toast");
      toast.textContent = msg;
      toast.style.display = "block";
    }

    // Text rotation with character animation
    const textSets = document.querySelectorAll('.text-set');
    let currentIndex = 0;
    let isAnimating = false;

    function wrapTextInSpans(element) {
      const text = element.textContent;
      element.innerHTML = text.split('').map((char, i) => 
        `<span class="char" style="animation-delay: ${i * 0.05}s">${char === ' ' ? '&nbsp;' : char}</span>`
      ).join('');
    }

    function animateTextIn(textSet) {
      const glitchText = textSet.querySelector('.glitch-text');
      const subtitle = textSet.querySelector('.subtitle');
      
      // Wrap text in spans for animation
      wrapTextInSpans(glitchText);
      
      // Update data attribute for glitch effect
      glitchText.setAttribute('data-text', glitchText.textContent);
      
      // Show subtitle after main text
      setTimeout(() => {
        subtitle.classList.add('visible');
      }, 800);
    }

    function animateTextOut(textSet) {
      const chars = textSet.querySelectorAll('.char');
      const subtitle = textSet.querySelector('.subtitle');
      
      // Animate characters out
      chars.forEach((char, i) => {
        char.style.animationDelay = `${i * 0.02}s`;
        char.classList.add('out');
      });
      
      // Hide subtitle
      subtitle.classList.remove('visible');
    }

    function rotateText() {
      if (isAnimating) return;
      isAnimating = true;

      const currentSet = textSets[currentIndex];
      const nextIndex = (currentIndex + 1) % textSets.length;
      const nextSet = textSets[nextIndex];

      // Animate out current text
      animateTextOut(currentSet);

      // After out animation, switch sets
      setTimeout(() => {
        currentSet.classList.remove('active');
        nextSet.classList.add('active');
        animateTextIn(nextSet);
        
        currentIndex = nextIndex;
        isAnimating = false;
      }, 600);
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      createFloatingDots();
      
      // Add focus effects to form inputs
      const inputs = document.querySelectorAll('input');
      inputs.forEach(input => {
        input.addEventListener('focus', function() {
          this.parentElement.querySelector('i').style.color = 'var(--accent-purple-light)';
          this.parentElement.querySelector('i').style.transform = 'translateY(-50%) scale(1.1)';
        });
        
        input.addEventListener('blur', function() {
          this.parentElement.querySelector('i').style.color = 'var(--text-secondary)';
          this.parentElement.querySelector('i').style.transform = 'translateY(-50%) scale(1)';
        });
      });
      
      // Initialize first text set
      textSets[0].classList.add('active');
      animateTextIn(textSets[0]);

      // Start rotation after initial display
      setTimeout(() => {
        setInterval(rotateText, 5000); // Change every 5 seconds
      }, 4000);

      // Add random glitch effect
      setInterval(() => {
        const glitchTexts = document.querySelectorAll('.glitch-text');
        glitchTexts.forEach(text => {
          if (Math.random() > 0.95) {
            text.style.animation = 'none';
            setTimeout(() => {
              text.style.animation = '';
            }, 200);
          }
        });
      }, 3000);
    });
    
    // Prevent form submission animation issues on mobile
    document.querySelector('form').addEventListener('submit', function(e) {
      const button = this.querySelector('button[type="submit"]');
      button.disabled = true;
      button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> PROCESSING...';
      
      // Simulate processing delay
      setTimeout(() => {
        button.disabled = false;
        button.innerHTML = '<i class="fa-solid fa-right-to-bracket"></i> MASUK';
      }, 2000);
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dashboard Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Tambahkan Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Tambahkan ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Simplified background */
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        /* Navigation Header - Simplified */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        /* Hero Section with 3D Carousel - Simplified */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 80px 16px 60px;
        }

        .carousel-container {
            width: 100%;
            max-width: 100%;
            height: 500px;
            perspective: 1000px;
            position: relative;
            padding-top: 40px;
        }

        .carousel {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        .carousel-item {
            position: absolute;
            width: 280px;
            height: 380px;
            left: 50%;
            top: 50%;
            transform-style: preserve-3d;
            transition: all 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
            cursor: pointer;
            transform-origin: center center;
        }

        .carousel-item .card {
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .card-number {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 42px;
            font-weight: 900;
            color: rgba(255, 255, 255, 0.1);
            font-family: 'Orbitron', monospace;
            letter-spacing: -2px;
            line-height: 1;
            z-index: 1;
        }

        .card-image {
            width: 130px;
            height: 85px;
            margin: 0 auto 20px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            transform: skew(-10deg);
            position: relative;
            z-index: 2;
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: skew(10deg) scale(1.1);
        }

        .card-title {
            font-family: 'Orbitron', monospace;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
            color: white;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .card-description {
            color: var(--text-secondary);
            line-height: 1.5;
            margin-bottom: 15px;
            font-size: 14px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .card-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 20px;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .tech-badge {
            padding: 5px 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            font-size: 12px;
            color: white;
            text-transform: uppercase;
            font-weight: 500;
        }

        .card-cta {
            padding: 12px 25px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), var(--accent-purple-light));
            border: none;
            border-radius: 25px;
            color: var(--primary-black);
            font-weight: 600;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
            font-size: 13px;
            position: relative;
            z-index: 2;
            font-family: 'Orbitron', monospace;
        }

        .card-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(177, 156, 217, 0.4);
        }

        /* Carousel Controls */
        .carousel-controls {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .carousel-btn {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', monospace;
        }

        .carousel-btn:hover {
            background: rgba(177, 156, 217, 0.2);
            border-color: var(--accent-purple-light);
        }

        .carousel-indicators {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .indicator {
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: white;
            transform: scale(1.3);
        }

        /* Profile & Weather Section */
        .profile-section {
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .profile-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        @media (min-width: 768px) {
            .profile-container {
                grid-template-columns: 1fr 2fr;
            }
        }

        .profile-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            height: fit-content;
        }

        .profile-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-5px);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--primary-black);
            font-weight: bold;
            overflow: hidden;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info h3 {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .profile-info p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .profile-time {
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            position: absolute;
            top: 25px;
            right: 25px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 20px;
            font-weight: 700;
            color: var(--accent-purple-light);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 12px;
            text-transform: uppercase;
        }

        .weather-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .weather-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-5px);
        }

        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .weather-title {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .weather-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .weather-time {
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        #weatherChart {
            width: 100%;
            height: 300px;
        }

        .weather-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .weather-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .weather-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(177, 156, 217, 0.2);
            border-radius: 50%;
            color: var(--accent-purple-light);
            margin-bottom: 10px;
            font-size: 18px;
        }

        .weather-details {
            display: flex;
            flex-direction: column;
        }

        .weather-value {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
        }

        .weather-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .temperature-scale {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-family: 'Orbitron', monospace;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .temperature-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .temperature-marker {
            font-family: 'Orbitron', monospace;
            font-size: 11px;
            color: var(--text-secondary);
        }

        /* Footer */
        .footer {
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.8);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 20px;
            text-align: center;
        }

        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .footer-description {
            color: var(--text-secondary);
            line-height: 1.5;
            font-size: 14px;
            max-width: 300px;
        }
        
        .footer-social {
            display: flex;
            gap: 10px;
        }

        .social-icon {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .social-icon:hover {
            background: var(--accent-purple-light);
            color: var(--primary-black);
            transform: translateY(-2px);
        }

        .footer-section h4 {
            color: white;
            margin-bottom: 15px;
            text-transform: uppercase;
            font-size: 15px;
            font-weight: 600;
            font-family: 'Orbitron', monospace;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-bottom {
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 100%;
            margin: 0 auto;
            flex-direction: column;
            gap: 10px;
            text-align: center;
        }

        .copyright {
            color: var(--accent-purple-light);
            font-size: 13px;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-black);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            margin-bottom: 30px;
            position: relative;
        }

        .loading-logo svg {
            width: 100%;
            height: 100%;
            animation: logoSpin 3s linear infinite;
        }

        .loading-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 40px;
            color: var(--text-primary);
            text-transform: uppercase;
            letter-spacing: 3px;
            position: relative;
        }

        .loading-text::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-purple-light), transparent);
            animation: loadingLine 2s ease-in-out infinite;
        }

        .spinner-container {
            position: relative;
            width: 100px;
            height: 100px;
        }

        .spinner {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
            animation: spin 1.5s linear infinite;
        }

        .spinner-1 {
            border-top: 3px solid var(--accent-purple-light);
            animation-duration: 1s;
        }

        .spinner-2 {
            border-right: 3px solid white;
            animation-duration: 1.2s;
            animation-direction: reverse;
        }

        .spinner-3 {
            border-bottom: 3px solid var(--accent-purple-light);
            animation-duration: 1.5s;
        }

        .loading-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 30px;
            overflow: hidden;
            position: relative;
        }

        .loading-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent-purple-light), white);
            border-radius: 2px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--accent-purple-light);
        }

        .loading-dots {
            display: flex;
            margin-top: 20px;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--accent-purple-light);
            margin: 0 5px;
            animation: dotPulse 1.5s infinite ease-in-out;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
            background-color: white;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
            background-color: var(--accent-purple);
        }

        /* Animasi Keyframes untuk Loading */
        @keyframes logoSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes loadingLine {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        @keyframes dotPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }

            .hero {
                padding: 70px 16px 50px;
                min-height: 80vh;
            }

            .carousel-container {
                height: 450px;
                padding-top: 30px;
            }

            .carousel-item {
                width: 260px;
                height: 360px;
            }

            .carousel-item .card {
                padding: 18px;
            }

            .card-number {
                font-size: 38px;
                top: 12px;
                right: 15px;
            }

            .card-image {
                width: 120px;
                height: 80px;
                margin-bottom: 18px;
            }

            .card-title {
                font-size: 18px;
                margin-bottom: 12px;
            }

            .card-description {
                font-size: 14px;
                margin-bottom: 15px;
            }

            .card-tech {
                margin-bottom: 18px;
                gap: 6px;
            }

            .tech-badge {
                padding: 5px 10px;
                font-size: 11px;
            }

            .card-cta {
                padding: 12px 25px;
                font-size: 13px;
            }

            .carousel-controls {
                bottom: -45px;
                gap: 12px;
            }

            .carousel-btn {
                width: 48px;
                height: 48px;
                font-size: 20px;
            }

            .carousel-indicators {
                top: 15px;
                gap: 8px;
            }

            .indicator {
                width: 10px;
                height: 10px;
            }

            .profile-section {
                padding: 60px 16px;
            }

            .section-title {
                font-size: 2rem;
            }

            .profile-card, .weather-card {
                padding: 20px;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }

            .profile-time {
                position: static;
                margin-top: 10px;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }

            .weather-info {
                grid-template-columns: 1fr;
            }

            .footer {
                padding: 30px 16px 15px;
            }

            .loading-text {
                font-size: 1.2rem;
            }

            .loading-logo {
                width: 100px;
                height: 100px;
            }

            .spinner-container {
                width: 80px;
                height: 80px;
            }
        }

        @media (min-width: 769px) {
            .footer-content {
                grid-template-columns: 2fr 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-logo">
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#d8c8ff;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#b19cd9;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <polygon points="20,2 38,14 38,26 20,38 2,26 2,14" fill="none" stroke="url(#logoGradient)" stroke-width="2"/>
                <polygon points="20,8 32,16 32,24 20,32 8,24 8,16" fill="url(#logoGradient)" opacity="0.3"/>
                <circle cx="20" cy="20" r="3" fill="url(#logoGradient)"/>
            </svg>
        </div>
        <div class="loading-text">GOJO INFINITY  </div>
        <div class="spinner-container">
            <div class="spinner spinner-1"></div>
            <div class="spinner spinner-2"></div>
            <div class="spinner spinner-3"></div>
        </div>
        <div class="loading-progress">
            <div class="loading-progress-bar" id="progressBar"></div>
        </div>
        <div class="loading-dots">
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
        </div>
    </div>

    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="#dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#dashboard" class="nav-link active">Dashboard</a></li>
                <li><a href="#profile" class="nav-link">Profile</a></li>
                <li><a href="#settings" class="nav-link">Settings</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Hero Section with 3D Carousel -->
    <section class="hero" id="dashboard">
        <div class="carousel-container">
            <div class="carousel" id="carousel">
                <!-- Carousel items will be generated by JavaScript -->
            </div>
            
            <div class="carousel-controls">
                <button class="carousel-btn" id="prevBtn">â¹</button>
                <button class="carousel-btn" id="nextBtn">âº</button>
            </div>
            
            <div class="carousel-indicators" id="indicators">
                <!-- Indicators will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Profile & Weather Section -->
    <section class="profile-section" id="profile">
        <h2 class="section-title">User Profile Information</h2>
        
        <div class="profile-container">
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">
                        <!-- Avatar akan di-generate oleh JavaScript -->
                    </div>
                    <div class="profile-info">
                        <h3 id="username">User Name</h3>
                        <p>Premium Member</p>
                    </div>
                </div>
                <div class="profile-time" id="profileTime">Loading...</div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="roleStatus">-</div>
                        <div class="stat-label">Role Status</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="activeSenders">0</div>
                        <div class="stat-label">Active Senders</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="daysRemaining">0</div>
                        <div class="stat-label">Days Remaining</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="userExpired">-</div>
                        <div class="stat-label">Expired Date</div>
                    </div>
                </div>
            </div>
            
            <div class="weather-card">
                <div class="weather-header">
                    <div>
                        <h3 class="weather-title">Weather Today</h3>
                        <p class="weather-subtitle">Real-time weather updates</p>
                    </div>
                    <div class="weather-time" id="weatherTime">--:--:--</div>
                </div>
                
                <div class="temperature-scale">
                    <span>35Â°C</span>
                    <span>30Â°C</span>
                    <span>25Â°C</span>
                    <span>20Â°C</span>
                </div>
                
                <div id="weatherChart"></div>
                
                <div class="temperature-markers">
                    <span class="temperature-marker">02:00</span>
                    <span class="temperature-marker">04:00</span>
                    <span class="temperature-marker">06:00</span>
                    <span class="temperature-marker">08:00</span>
                    <span class="temperature-marker">10:00</span>
                    <span class="temperature-marker">12:00</span>
                </div>
                
                <div class="weather-info">
                    <div class="weather-item">
                        <div class="weather-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <div class="weather-details">
                            <div class="weather-value" id="currentHumidity">48%</div>
                            <div class="weather-label">Humidity</div>
                        </div>
                    </div>
                    <div class="weather-item">
                        <div class="weather-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="weather-details">
                            <div class="weather-value" id="currentCondition">Sunny</div>
                            <div class="weather-label">Condition</div>
                        </div>
                    </div>
                    <div class="weather-item">
                        <div class="weather-icon">
                            <i class="fas fa-compress-alt"></i>
                        </div>
                        <div class="weather-details">
                            <div class="weather-value" id="currentPressure">2020.45</div>
                            <div class="weather-label">Pressure</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="footer-logo">
                    <div class="logo-icon"></div>
                    <span class="logo-text">
                        GOJO INFINITY  
                    </span>
                </div>
                <p class="footer-description">
                    Platform untuk berbagai alat dan utilitas online yang berguna.
                </p>
                
                <div class="footer-social">
                    <a href="https://wa.me/6283844537093" class="social-icon whatsapp" target="_blank" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="https://t.me/VtgZuxy" class="social-icon telegram" target="_blank" title="Telegram">
                        <i class="fab fa-telegram"></i>
                    </a>
                    <a href="https://instagram.com/maasydqqq" class="social-icon instagram" target="_blank" title="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="copyright">
                Â© 2025 Copyright By Zyy Official. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Loading Screen Logic
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading-screen');
            const progressBar = document.getElementById('progressBar');
            
            // Simulate loading progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // Hide loading screen after a short delay
                    setTimeout(() => {
                        loadingScreen.style.opacity = '0';
                        loadingScreen.style.visibility = 'hidden';
                    }, 500);
                }
                progressBar.style.width = `${progress}%`;
            }, 200);
        });

        // Menu data for carousel
        const menuData = [
            {
                id: 1,
                title: 'SPAM NGL',
                description: 'Tool untuk spam NGL dengan berbagai opsi',
                image: 'https://files.catbox.moe/hwxmr7.jpg',
                tech: ['SPAM', 'AUTO', 'CUSTOM'],
                link: '/ngl-spam'
            },
            {
                id: 2,
                title: 'SPAM TELEGRAM',
                description: 'Spam teks dan lainnya ke user telegram',
                image: 'https://files.catbox.moe/mlm6fk.jpg',
                tech: ['SPAM', 'ATTACK', 'TOOLS'],
                link: '/telegram-spam'
            },
            {
                id: 3,
                title: 'YouTube Search',
                description: 'Mencari, Lagu, dan Video lainnya',
                image: 'https://files.catbox.moe/il60dq.jpg',
                tech: ['Search', 'Video', 'Download'],
                link: '/youtube-downloader'
            },
            {
                id: 4,
                title: 'TikTok Downloader',
                description: 'Download video TikTok tanpa watermark',
                image: 'https://files.catbox.moe/d5d0j9.jpg',
                tech: ['Video', 'No WM', 'HD'],
                link: '/tiktok'
            },
            {
                id: 5,
                title: 'WhatsApp Bug\'s',
                description: 'Bug WhatsApp Simple with API ',
                image: 'https://files.catbox.moe/47f9r5.jpg',
                tech: ['Attack', 'Payload', 'Bug'],
                link: '/execution'
            },
            {
                id: 6,
                title: 'Create Image AI',
                description: 'Mengubah Gambar Dengan Prompt',
                image: 'https://files.catbox.moe/j1b3xn.jpg',
                tech: ['Download', 'Image', 'AI'],
                link: '/rcimage-ai'
            }
        ];

        // Initialize carousel
        let currentIndex = 0;
        const carousel = document.getElementById('carousel');
        const indicatorsContainer = document.getElementById('indicators');

        function createCarouselItem(data, index) {
            const item = document.createElement('div');
            item.className = 'carousel-item';
            item.dataset.index = index;
            
            const techBadges = data.tech.map(tech => 
                `<span class="tech-badge">${tech}</span>`
            ).join('');
            
            item.innerHTML = `
                <div class="card">
                    <div class="card-number">0${data.id}</div>
                    <div class="card-image">
                        <img src="${data.image}" alt="${data.title}" loading="lazy">
                    </div>
                    <h3 class="card-title">${data.title}</h3>
                    <p class="card-description">${data.description}</p>
                    <div class="card-tech">${techBadges}</div>
                    <button class="card-cta" data-link="${data.link}">OPEN HERE</button>
                </div>
            `;
            
            return item;
        }

        function initCarousel() {
            // Create carousel items
            menuData.forEach((data, index) => {
                const item = createCarouselItem(data, index);
                carousel.appendChild(item);
                
                // Create indicator
                const indicator = document.createElement('div');
                indicator.className = 'indicator';
                if (index === 0) indicator.classList.add('active');
                indicator.dataset.index = index;
                indicator.addEventListener('click', () => goToSlide(index));
                indicatorsContainer.appendChild(indicator);
            });
            
            updateCarousel();
        }

        function updateCarousel() {
            const items = document.querySelectorAll('.carousel-item');
            const indicators = document.querySelectorAll('.indicator');
            const totalItems = items.length;
            const isMobile = window.innerWidth <= 768;
            const isSmallMobile = window.innerWidth <= 480;
            
            items.forEach((item, index) => {
                // Calculate relative position
                let offset = index - currentIndex;
                
                // Wrap around for continuous rotation
                if (offset > totalItems / 2) {
                    offset -= totalItems;
                } else if (offset < -totalItems / 2) {
                    offset += totalItems;
                }
                
                const absOffset = Math.abs(offset);
                const sign = offset < 0 ? -1 : 1;
                
                // Reset transform
                item.style.transform = '';
                item.style.opacity = '';
                item.style.zIndex = '';
                item.style.transition = 'all 0.8s cubic-bezier(0.4, 0.0, 0.2, 1)';
                
                // Adjust spacing based on screen size
                let spacing1 = 300;
                let spacing2 = 450;
                
                if (isSmallMobile) {
                    spacing1 = 260;
                    spacing2 = 390;
                } else if (isMobile) {
                    spacing1 = 280;
                    spacing2 = 420;
                }
                
                if (absOffset === 0) {
                    // Center item
                    item.style.transform = 'translate(-50%, -50%) translateZ(0) scale(1)';
                    item.style.opacity = '1';
                    item.style.zIndex = '10';
                } else if (absOffset === 1) {
                    // Side items
                    const translateX = sign * spacing1;
                    const rotation = isSmallMobile ? 20 : (isMobile ? 25 : 30);
                    const scale = isSmallMobile ? 0.92 : (isMobile ? 0.9 : 0.85);
                    item.style.transform = `translate(-50%, -50%) translateX(${translateX}px) translateZ(-200px) rotateY(${-sign * rotation}deg) scale(${scale})`;
                    item.style.opacity = '0.8';
                    item.style.zIndex = '5';
                } else if (absOffset === 2) {
                    // Further side items
                    const translateX = sign * spacing2;
                    const rotation = isSmallMobile ? 30 : (isMobile ? 35 : 40);
                    const scale = isSmallMobile ? 0.82 : (isMobile ? 0.8 : 0.7);
                    item.style.transform = `translate(-50%, -50%) translateX(${translateX}px) translateZ(-350px) rotateY(${-sign * rotation}deg) scale(${scale})`;
                    item.style.opacity = '0.5';
                    item.style.zIndex = '3';
                } else {
                    // Hidden items (behind)
                    item.style.transform = 'translate(-50%, -50%) translateZ(-500px) scale(0.5)';
                    item.style.opacity = '0';
                    item.style.zIndex = '1';
                }
            });
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentIndex);
            });
        }

        function nextSlide() {
            currentIndex = (currentIndex + 1) % menuData.length;
            updateCarousel();
        }

        function prevSlide() {
            currentIndex = (currentIndex - 1 + menuData.length) % menuData.length;
            updateCarousel();
        }

        function goToSlide(index) {
            currentIndex = index;
            updateCarousel();
        }

        // Event listeners
        document.getElementById('nextBtn').addEventListener('click', nextSlide);
        document.getElementById('prevBtn').addEventListener('click', prevSlide);

        // Auto-rotate carousel (slower interval)
        setInterval(nextSlide, 6000);

        // Touch swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        carousel.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);

        carousel.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);

        function handleSwipe() {
            const swipeThreshold = 50;
            const swipeDistance = touchEndX - touchStartX;
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0) {
                    prevSlide();
                } else {
                    nextSlide();
                }
            }
        }

        // Update carousel on window resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                updateCarousel();
            }, 250);
        });

        // Initialize on load
        initCarousel();

        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const navMenu = document.getElementById('navMenu');

        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Smooth scrolling and active navigation
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    const headerHeight = document.getElementById('header').offsetHeight;
                    const targetPosition = targetSection.offsetTop - headerHeight;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu if open
                    navMenu.classList.remove('active');
                    menuToggle.classList.remove('active');
                }
            });
        });

        // Dashboard card click handlers - Navigate to specific tool pages without loading screen
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('card-cta')) {
                const link = e.target.getAttribute('data-link');
                if (link) {
                    // Direct redirect without loading screen
                    window.location.href = link;
                }
            }
        });

        // Real-time clock for profile cards
        function updateLiveTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('id-ID', { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit' 
            });
            
            document.getElementById('profileTime').textContent = timeString;
            document.getElementById('weatherTime').textContent = timeString;
        }

        // Update time every second
        setInterval(updateLiveTime, 1000);
        updateLiveTime(); // Initial call

        // Initialize user profile dengan data dari server
        function initUserProfile() {
            fetch('/api/dashboard-data')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    // Set username
                    document.getElementById('username').textContent = data.username;
                    
                    // Create avatar dengan first letter
                    const firstLetter = data.username.charAt(0).toUpperCase();
                    document.getElementById('profileAvatar').textContent = firstLetter;
                    
                    // Set data dari server
                    document.getElementById('roleStatus').textContent = data.role;
                    document.getElementById('activeSenders').textContent = data.activeSenders;
                    document.getElementById('daysRemaining').textContent = data.daysRemaining;
                    document.getElementById('userExpired').textContent = data.expired.split(' ')[0]; // Hanya tanggalnya saja
                    
                    // Update profile time
                    document.getElementById('profileTime').textContent = `Exp: ${data.expired}`;
                })
                .catch(error => {
                    console.error('Error fetching user info:', error);
                    // Fallback ke data default jika error
                    const username = localStorage.getItem('username') || 'User';
                    document.getElementById('username').textContent = username;
                    const firstLetter = username.charAt(0).toUpperCase();
                    document.getElementById('profileAvatar').textContent = firstLetter;
                    document.getElementById('roleStatus').textContent = 'User';
                    document.getElementById('activeSenders').textContent = '0';
                    document.getElementById('daysRemaining').textContent = '0';
                    document.getElementById('userExpired').textContent = 'N/A';
                });
        }

        // Weather data simulation
        let weatherData = [
            { x: '02:00', y: 22 },
            { x: '04:00', y: 20 },
            { x: '06:00', y: 21 },
            { x: '08:00', y: 24 },
            { x: '10:00', y: 28 },
            { x: '12:00', y: 31 }
        ];

        // Initialize weather chart
        let weatherChart;
        function initWeatherChart() {
            const options = {
                series: [{
                    name: 'Temperature',
                    data: weatherData
                }],
                chart: {
                    height: 220,
                    type: 'line',
                    foreColor: '#e0e0e0',
                    toolbar: {
                        show: false
                    },
                    zoom: {
                        enabled: false
                    },
                    animations: {
                        enabled: true,
                        easing: 'linear',
                        speed: 800,
                        animateGradually: {
                            enabled: true,
                            delay: 150
                        },
                        dynamicAnimation: {
                            enabled: true,
                            speed: 350
                        }
                    }
                },
                colors: ['#b19cd9'],
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    curve: 'smooth',
                    width: 3,
                    colors: ['#b19cd9']
                },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shade: 'dark',
                        gradientToColors: ['#d8c8ff'],
                        shadeIntensity: 1,
                        type: 'vertical',
                        opacityFrom: 0.7,
                        opacityTo: 0.2,
                        stops: [0, 90, 100]
                    }
                },
                grid: {
                    borderColor: 'rgba(255, 255, 255, 0.1)',
                    strokeDashArray: 3,
                    xaxis: {
                        lines: {
                            show: false
                        }
                    },
                    yaxis: {
                        lines: {
                            show: true
                        }
                    }
                },
                xaxis: {
                    categories: ['02:00', '04:00', '06:00', '08:00', '10:00', '12:00'],
                    axisBorder: {
                        show: false
                    },
                    axisTicks: {
                        show: false
                    },
                    labels: {
                        style: {
                            fontSize: '11px',
                            fontFamily: 'Orbitron, monospace'
                        }
                    }
                },
                yaxis: {
                    min: 20,
                    max: 35,
                    labels: {
                        formatter: function (value) {
                            return value + "Â°C";
                        },
                        style: {
                            fontSize: '11px',
                            fontFamily: 'Orbitron, monospace'
                        }
                    }
                },
                tooltip: {
                    theme: 'dark',
                    x: {
                        formatter: function(val) {
                            return val;
                        }
                    },
                    y: {
                        formatter: function(val) {
                            return val + "Â°C";
                        }
                    }
                },
            };

            weatherChart = new ApexCharts(document.querySelector("#weatherChart"), options);
            weatherChart.render();
        }

        // Update weather data with smooth transitions
        function updateWeatherData() {
            // Generate new temperature data with realistic variations
            const newData = [
                { x: '02:00', y: Math.floor(Math.random() * 5) + 20 },
                { x: '04:00', y: Math.floor(Math.random() * 5) + 19 },
                { x: '06:00', y: Math.floor(Math.random() * 5) + 21 },
                { x: '08:00', y: Math.floor(Math.random() * 5) + 24 },
                { x: '10:00', y: Math.floor(Math.random() * 5) + 27 },
                { x: '12:00', y: Math.floor(Math.random() * 5) + 30 }
            ];
            
            // Update the chart with new data
            weatherChart.updateSeries([{
                data: newData
            }]);
            
            // Update the weather info with current values
            const currentTemp = newData[newData.length - 1].y;
            const currentHumidity = Math.floor(Math.random() * 20) + 40;
            const conditions = ['Sunny', 'Cloudy', 'Partly Cloudy', 'Rainy'];
            const currentCondition = conditions[Math.floor(Math.random() * conditions.length)];
            
            document.getElementById('currentHumidity').textContent = `${currentHumidity}%`;
            document.getElementById('currentCondition').textContent = currentCondition;
            document.getElementById('currentPressure').textContent = (Math.random() * 100 + 2000).toFixed(2);
        }

        // Update system data dengan informasi real-time
        function updateSystemData() {
            // Update connection status berdasarkan sessions
            fetch('/api/dashboard-data')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    // Update active senders count
                    document.getElementById('activeSenders').textContent = data.activeSenders;
                })
                .catch(error => {
                    console.error('Error fetching system data:', error);
                    document.getElementById('activeSenders').textContent = '0';
                });
        }

        // Panggil fungsi initialization
        initUserProfile();
        initWeatherChart();

        // Update system data setiap 5 detik
        setInterval(updateSystemData, 5000);
        updateSystemData(); // Initial call

        // Update weather data every 10 seconds
        setInterval(updateWeatherData, 10000);
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RcImage AI - GOJO INFINITY  </title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --success: #00C851;
            --error: #ff4444;
            --warning: #ffaa00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        .header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            flex: 1;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            max-width: 600px;
            margin: 0 auto 30px;
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-2px);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95em;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.3);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
            font-family: 'Orbitron', monospace;
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .btn {
            padding: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Orbitron', monospace;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
        }

        .footer-btn {
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .footer-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
        }

        .status-info {
            font-size: 0.8em;
            color: var(--accent-purple-light);
            font-weight: 600;
        }

        /* RcImage AI Specific Styles */
        .mode-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 4px;
            margin: 20px 0;
        }

        .mode-tab {
            flex: 1;
            padding: 12px 16px;
            text-align: center;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
        }

        .mode-tab.active {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 4px 12px rgba(139, 95, 191, 0.4);
        }

        .upload-area {
            border: 2px dashed rgba(177, 156, 217, 0.3);
            border-radius: 16px;
            padding: 30px 20px;
            text-align: center;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.02);
            cursor: pointer;
        }

        .upload-area.active {
            border-color: var(--accent-purple);
            background: rgba(177, 156, 217, 0.1);
        }

        .upload-icon {
            font-size: 48px;
            color: var(--accent-purple);
            margin-bottom: 12px;
        }

        .text-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-size: 15px;
            resize: none;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .text-input:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .text-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .preview-container {
            display: grid;
            gap: 16px;
            margin-top: 20px;
        }

        .preview-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .preview-label {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-secondary);
        }

        .image-placeholder {
            width: 100%;
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.3);
            font-size: 14px;
        }

        .image-preview {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 12px;
            object-fit: cover;
        }

        .loader {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid var(--accent-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .message {
            padding: 12px 16px;
            border-radius: 12px;
            margin: 16px 0;
            font-size: 14px;
            text-align: center;
        }

        .message.success {
            background: rgba(34, 197, 94, 0.2);
            color: #4ADE80;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .message.error {
            background: rgba(239, 68, 68, 0.2);
            color: #F87171;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .hidden {
            display: none !important;
        }

        .file-info {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .result-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .result-actions .btn {
            flex: 1;
        }

        .btn-download {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-share {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-share:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Orbitron', monospace;
            color: var(--accent-purple-light);
        }

        .section-title i {
            color: var(--accent-purple);
        }

        .stats-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 18px;
            padding: 25px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        
        .stats-section h3 {
            font-family: 'Orbitron', monospace;
            color: #fff;
            margin: 0 0 20px 0;
            text-align: center;
            font-size: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .stat-card-small {
            background: rgba(255, 255, 255, 0.05);
            padding: 18px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card-small:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-5px);
        }
        
        .stat-card-small .stat-label {
            font-size: 12px;
            color: #bbb;
            margin-bottom: 8px;
        }
        
        .stat-card-small .stat-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
            font-family: 'Orbitron', monospace;
        }
        
        .stat-card-small .stat-progress {
            background: rgba(0,0,0,0.3);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .stat-card-small .stat-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 3px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .page-title {
                font-size: 1.6em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-buttons {
                justify-content: center;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }

            .result-actions {
                flex-direction: column;
            }
        }

        /* Animasi sederhana */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease;
        }

        /* Icon styling */
        .fas, .fab {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="/dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
                <li><a href="/rcimage-ai"class="nav-link active">RcImage AI</a></li>
                <li><a href="https://wa.me/6283199927410" class="nav-link">WhatsApp</a></li>
                <li><a href="https://t.me/VtgZuxy" class="nav-link">Telegram</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1 class="page-title"><i class="fas fa-robot"></i> RcImage AI</h1>
            <div class="page-subtitle">AI Image Generator & Editor - Ciptakan dan Edit Gambar dengan Kecerdasan Buatan</div>
        </div>

        <!-- Mode Tabs -->
        <div class="card">
            <div class="mode-tabs">
                <div class="mode-tab active" data-mode="edit">
                    <i class="fas fa-edit"></i>
                    <span>Edit Gambar</span>
                </div>
                <div class="mode-tab" data-mode="create">
                    <i class="fas fa-magic"></i>
                    <span>Ciptakan Gambar</span>
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="card">
            <div class="stats-section">
                <h3><i class="fas fa-chart-pie"></i> Statistik AI</h3>
                <div class="stats-grid">
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-image"></i> Total Generate</div>
                        <div class="stat-number">127</div>
                        <div class="stat-progress">
                            <div class="stat-progress-fill" style="width: 85%"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-edit"></i> Total Edit</div>
                        <div class="stat-number">89</div>
                        <div class="stat-progress">
                            <div class="stat-progress-fill" style="width: 60%"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-clock"></i> Waktu Rata-rata</div>
                        <div class="stat-number">12s</div>
                        <div class="stat-label">per gambar</div>
                    </div>

                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-star"></i> Rating AI</div>
                        <div class="stat-number">4.8/5</div>
                        <div class="stat-progress">
                            <div class="stat-progress-fill" style="width: 96%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Form -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-cog"></i>
                <span id="modeTitle">Edit Gambar</span>
            </div>

            <form id="aiForm">
                <div id="uploadSection">
                    <div class="upload-area" id="dropZone">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p style="font-weight: 600; margin-bottom: 8px;">Upload Gambar</p>
                        <p style="font-size: 14px; color: var(--text-secondary);">Tarik & lepas atau ketuk untuk memilih</p>
                        <p class="file-info" id="fileInfo">Format: JPG, PNG, WebP (Maks. 5MB)</p>
                        <input type="file" id="fileInput" accept="image/*" class="hidden">
                    </div>
                </div>

                <div style="margin: 20px 0;">
                    <div class="section-title">
                        <i class="fas fa-comment-alt"></i>
                        <span id="promptLabel">Instruksi AI</span>
                    </div>
                    <textarea 
                        id="promptInput" 
                        class="text-input" 
                        rows="4" 
                        placeholder="Jelaskan apa yang ingin Anda buat atau edit..."
                    ></textarea>
                </div>

                <div class="action-buttons">
                    <button type="submit" id="generateBtn" class="btn btn-primary" disabled>
                        <i class="fas fa-play"></i>
                        <span id="buttonText">Proses Sekarang</span>
                        <div id="buttonLoader" class="loader hidden"></div>
                    </button>
                    <button type="button" id="clearBtn" class="btn btn-secondary">
                        <i class="fas fa-broom"></i>
                        <span>Clear</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Results -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-star"></i>
                <span>Hasil AI</span>
            </div>

            <div class="preview-container">
                <div id="inputPreview" class="preview-card">
                    <div class="preview-label">Gambar Awal</div>
                    <div class="image-placeholder">
                        <i class="fas fa-image" style="font-size: 32px; margin-bottom: 8px;"></i>
                        <div>Belum ada gambar</div>
                    </div>
                </div>

                <div id="outputPreview" class="preview-card">
                    <div class="preview-label">Hasil AI</div>
                    <div class="image-placeholder" id="resultPlaceholder">
                        <i class="fas fa-robot" style="font-size: 32px; margin-bottom: 8px;"></i>
                        <div>Hasil akan muncul di sini</div>
                    </div>
                    <img id="resultImage" class="image-preview hidden">
                </div>
            </div>

            <div id="messageContainer"></div>

            <div id="downloadSection" class="hidden">
                <div class="result-actions">
                    <button id="downloadBtn" class="btn btn-download">
                        <i class="fas fa-download"></i>
                        <span>Download</span>
                    </button>
                    <button id="shareBtn" class="btn btn-share">
                        <i class="fas fa-share"></i>
                        <span>Share</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-buttons">
                <a href="/dashboard" class="footer-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <a href="/logout" class="footer-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <div class="status-info">
                <i class="fas fa-circle" style="color: var(--success)"></i> AI System Ready
            </div>
        </div>
    </div>

    <script>
        const API_URL = '/api/rcimage-ai';
        
        let currentMode = 'edit';
        let uploadedImage = null;
        let currentResultUrl = null;

        const elements = {
            modeTabs: document.querySelectorAll('.mode-tab'),
            modeTitle: document.getElementById('modeTitle'),
            promptLabel: document.getElementById('promptLabel'),
            uploadSection: document.getElementById('uploadSection'),
            dropZone: document.getElementById('dropZone'),
            fileInput: document.getElementById('fileInput'),
            fileInfo: document.getElementById('fileInfo'),
            promptInput: document.getElementById('promptInput'),
            generateBtn: document.getElementById('generateBtn'),
            clearBtn: document.getElementById('clearBtn'),
            buttonText: document.getElementById('buttonText'),
            buttonLoader: document.getElementById('buttonLoader'),
            inputPreview: document.getElementById('inputPreview'),
            outputPreview: document.getElementById('outputPreview'),
            resultPlaceholder: document.getElementById('resultPlaceholder'),
            resultImage: document.getElementById('resultImage'),
            messageContainer: document.getElementById('messageContainer'),
            downloadSection: document.getElementById('downloadSection'),
            downloadBtn: document.getElementById('downloadBtn'),
            shareBtn: document.getElementById('shareBtn'),
            aiForm: document.getElementById('aiForm')
        };

        function showMessage(text, type = 'error') {
            elements.messageContainer.innerHTML = `
                <div class="message ${type}">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                    ${text}
                </div>
            `;
        }

        function clearMessage() {
            elements.messageContainer.innerHTML = '';
        }

        function updateButtonState() {
            const hasPrompt = elements.promptInput.value.trim().length > 0;
            if (currentMode === 'edit') {
                elements.generateBtn.disabled = !(uploadedImage && hasPrompt);
            } else {
                elements.generateBtn.disabled = !hasPrompt;
            }
        }

        function handleFileSelect(file) {
            if (!file) return;

            if (!file.type.startsWith('image/')) {
                showMessage('File harus berupa gambar');
                return;
            }

            if (file.size > 5 * 1024 * 1024) {
                showMessage('Ukuran file terlalu besar (maksimal 5MB)');
                return;
            }

            elements.fileInfo.textContent = `${file.name} (${(file.size / 1024 / 1024).toFixed(1)}MB)`;
            
            const reader = new FileReader();
            reader.onload = (e) => {
                uploadedImage = e.target.result;
                elements.inputPreview.innerHTML = `
                    <div class="preview-label">Gambar Awal</div>
                    <img src="${e.target.result}" class="image-preview">
                `;
                updateButtonState();
            };
            reader.readAsDataURL(file);
        }

        function switchMode(mode) {
            currentMode = mode;
            
            elements.modeTabs.forEach(tab => {
                if (tab.dataset.mode === mode) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });

            if (mode === 'edit') {
                elements.modeTitle.textContent = 'Edit Gambar';
                elements.promptLabel.textContent = 'Instruksi AI';
                elements.buttonText.textContent = 'Proses Sekarang';
                elements.uploadSection.classList.remove('hidden');
                elements.inputPreview.classList.remove('hidden');
            } else {
                elements.modeTitle.textContent = 'Ciptakan Gambar';
                elements.promptLabel.textContent = 'Deskripsi Gambar';
                elements.buttonText.textContent = 'Generate Sekarang';
                elements.uploadSection.classList.add('hidden');
                elements.inputPreview.classList.add('hidden');
                uploadedImage = null;
            }

            clearMessage();
            elements.downloadSection.classList.add('hidden');
            elements.resultImage.classList.add('hidden');
            elements.resultPlaceholder.classList.remove('hidden');
            updateButtonState();
        }

        async function processGeneration() {
            const prompt = elements.promptInput.value.trim();
            
            if (!prompt) {
                showMessage('Harap masukkan prompt terlebih dahulu');
                return;
            }

            if (currentMode === 'edit' && !uploadedImage) {
                showMessage('Harap pilih gambar terlebih dahulu');
                return;
            }

            elements.generateBtn.disabled = true;
            elements.buttonText.textContent = 'Memproses...';
            elements.buttonLoader.classList.remove('hidden');
            clearMessage();

            elements.resultImage.classList.add('hidden');
            elements.resultPlaceholder.innerHTML = `
                <div class="loader" style="width: 40px; height: 40px; margin-bottom: 16px;"></div>
                <div>AI sedang bekerja...</div>
            `;
            elements.resultPlaceholder.classList.remove('hidden');
            elements.downloadSection.classList.add('hidden');

            try {
                const requestData = {
                    prompt: prompt,
                    imageUrl: currentMode === 'edit' ? uploadedImage : null
                };

                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `Error: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.image_url) {
                    currentResultUrl = result.image_url;
                    elements.resultImage.src = result.image_url;
                    elements.resultImage.classList.remove('hidden');
                    elements.resultPlaceholder.classList.add('hidden');
                    elements.downloadSection.classList.remove('hidden');
                    showMessage('Gambar berhasil dibuat!', 'success');
                } else {
                    throw new Error('Tidak ada gambar yang dihasilkan');
                }

            } catch (error) {
                console.error('Error:', error);
                elements.resultPlaceholder.innerHTML = `
                    <i class="fas fa-exclamation-triangle" style="font-size: 32px; margin-bottom: 8px; color: #F87171;"></i>
                    <div>Gagal memproses</div>
                `;
                showMessage(error.message);
            } finally {
                elements.generateBtn.disabled = false;
                elements.buttonText.textContent = currentMode === 'edit' ? 'Proses Sekarang' : 'Generate Sekarang';
                elements.buttonLoader.classList.add('hidden');
            }
        }

        function downloadImage() {
            if (!currentResultUrl) return;
            
            const link = document.createElement('a');
            link.href = currentResultUrl;
            link.download = `rcimage-${Date.now()}.jpg`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function shareImage() {
            if (!currentResultUrl) return;
            
            if (navigator.share) {
                navigator.share({
                    title: 'RcImage AI Result',
                    url: currentResultUrl
                });
            } else {
                navigator.clipboard.writeText(currentResultUrl).then(() => {
                    showMessage('Link disalin ke clipboard!', 'success');
                });
            }
        }

        function clearAll() {
            elements.fileInput.value = '';
            elements.promptInput.value = '';
            uploadedImage = null;
            currentResultUrl = null;
            
            elements.inputPreview.innerHTML = `
                <div class="preview-label">Gambar Awal</div>
                <div class="image-placeholder">
                    <i class="fas fa-image" style="font-size: 32px; margin-bottom: 8px;"></i>
                    <div>Belum ada gambar</div>
                </div>
            `;
            
            elements.resultImage.classList.add('hidden');
            elements.resultPlaceholder.innerHTML = `
                <i class="fas fa-robot" style="font-size: 32px; margin-bottom: 8px;"></i>
                <div>Hasil akan muncul di sini</div>
            `;
            elements.resultPlaceholder.classList.remove('hidden');
            
            elements.downloadSection.classList.add('hidden');
            clearMessage();
            updateButtonState();
        }

        // Event Listeners
        elements.modeTabs.forEach(tab => {
            tab.addEventListener('click', () => switchMode(tab.dataset.mode));
        });

        elements.dropZone.addEventListener('click', () => elements.fileInput.click());
        elements.fileInput.addEventListener('change', (e) => handleFileSelect(e.target.files[0]));

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(event => {
            elements.dropZone.addEventListener(event, (e) => {
                e.preventDefault();
                e.stopPropagation();
            });
        });

        elements.dropZone.addEventListener('dragenter', () => elements.dropZone.classList.add('active'));
        elements.dropZone.addEventListener('dragover', () => elements.dropZone.classList.add('active'));
        elements.dropZone.addEventListener('dragleave', () => elements.dropZone.classList.remove('active'));
        elements.dropZone.addEventListener('drop', (e) => {
            elements.dropZone.classList.remove('active');
            handleFileSelect(e.dataTransfer.files[0]);
        });

        elements.promptInput.addEventListener('input', updateButtonState);
        elements.aiForm.addEventListener('submit', (e) => {
            e.preventDefault();
            processGeneration();
        });
        elements.downloadBtn.addEventListener('click', downloadImage);
        elements.shareBtn.addEventListener('click', shareImage);
        elements.clearBtn.addEventListener('click', clearAll);

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Initialize
            switchMode('edit');
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGL Spam Tool - GOJO INFINITY  </title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        /* CSS tetap sama seperti yang Anda berikan */
        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --success: #00C851;
            --error: #ff4444;
            --warning: #ffaa00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        .header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            flex: 1;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            max-width: 600px;
            margin: 0 auto 30px;
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-2px);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95em;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.3);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
            font-family: 'Orbitron', monospace;
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .range-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .range-group input[type="range"] {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            outline: none;
            -webkit-appearance: none;
        }

        .range-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-purple-light);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(177, 156, 217, 0.4);
        }

        .range-value {
            min-width: 70px;
            text-align: center;
            background: var(--accent-purple);
            color: white;
            padding: 8px 12px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 0.9em;
            font-family: 'Orbitron', monospace;
        }

        .quick-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .quick-btn {
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8em;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
            transform: translateY(-2px);
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 10px;
            transition: width 0.4s ease;
            width: 0%;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .btn {
            padding: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Orbitron', monospace;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .log-container {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            margin-top: 20px;
            height: 250px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .log-entry {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85em;
            font-family: 'Courier New', monospace;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .success { color: var(--success); }
        .error { color: var(--error); }
        .warning { color: var(--warning); }
        .info { color: var(--accent-purple-light); }

        .footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
        }

        .footer-btn {
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .footer-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
        }

        .status-info {
            font-size: 0.8em;
            color: var(--accent-purple-light);
            font-weight: 600;
        }

        .limit-info {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }

        .limit-header {
            text-align: center;
            margin-bottom: 15px;
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            color: #fff;
        }

        .limit-row {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .limit-label {
            color: #bbb;
            font-weight: 500;
        }

        .limit-value {
            color: var(--text-secondary);
            font-weight: bold;
        }

        .limit-value.warning {
            color: var(--warning);
        }

        .limit-value.danger {
            color: var(--error);
        }

        .quick-stats {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 18px;
            padding: 25px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        
        .quick-stats h3 {
            font-family: 'Orbitron', monospace;
            color: #fff;
            margin: 0 0 20px 0;
            text-align: center;
            font-size: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .stat-card-small {
            background: rgba(255, 255, 255, 0.05);
            padding: 18px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card-small:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-5px);
        }
        
        .stat-card-small .stat-label {
            font-size: 12px;
            color: #bbb;
            margin-bottom: 8px;
        }
        
        .stat-card-small .stat-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
            font-family: 'Orbitron', monospace;
        }
        
        .stat-card-small .stat-progress {
            background: rgba(0,0,0,0.3);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .stat-card-small .stat-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 3px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .page-title {
                font-size: 1.6em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .quick-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-buttons {
                justify-content: center;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }
        }

        /* Animasi sederhana */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease;
        }

        /* Icon styling */
        .fas, .fab {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="/dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
                <li><a href="/ngl-spam" class="nav-link active">NGL Spam</a></li>
                <li><a href="https://wa.me/6283844537093" class="nav-link">WhatsApp</a></li>
                <li><a href="https://t.me/VtgZuxy" class="nav-link">Telegram</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1 class="page-title"><i class="fas fa-message"></i> NGL Spam Tool</h1>
            <div class="page-subtitle">Advanced Message Delivery System for NGL.link</div>
        </div>

        <!-- Limit Info -->
        <div class="card">
            <div class="limit-info">
                <div class="limit-header">
                    <i class="fas fa-shield-alt"></i> Limit Harian Kamu
                </div>
                <div class="limit-row">
                    <span class="limit-label">Digunakan Hari Ini:</span>
                    <span class="limit-value" id="usageToday">0 / 200 pesan</span>
                </div>
                <div class="limit-row">
                    <span class="limit-label">Sisa Limit:</span>
                    <span class="limit-value" id="remainingLimit">200 pesan</span>
                </div>
                <div class="limit-row">
                    <span class="limit-label">Reset:</span>
                    <span class="limit-value">Midnight (00:00 WIB)</span>
                </div>
                <div class="limit-row">
                    <span class="limit-label">Max Per Request:</span>
                    <span class="limit-value">100 pesan</span>
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="card">
            <div class="quick-stats">
                <h3><i class="fas fa-chart-pie"></i> Statistik Penggunaan</h3>
                <div class="stats-grid">
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-user-plus"></i> User Limit</div>
                        <div class="stat-number">200</div>
                        <div class="stat-label">limit per user</div>
                    </div>
                    
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-user"></i> Penggunaan Kamu</div>
                        <div class="stat-number" id="usageStat">0<span style="font-size: 14px; color: #888;">/200</span></div>
                        <div class="stat-progress">
                            <div class="stat-progress-fill" id="usageProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-check-circle"></i> Sisa Limit</div>
                        <div class="stat-number" id="remainingStat">200</div>
                        <div class="stat-label">pesan tersisa hari ini</div>
                    </div>

                    <div class="stat-card-small">
                        <div class="stat-label"><i class="fas fa-clock"></i> Reset Dalam</div>
                        <div class="stat-number" id="resetTimer">--:--:--</div>
                        <div class="stat-label">(Midnight WIB)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Form -->
        <div class="card">
            <div class="input-group">
                <label><i class="fas fa-user"></i> Username Target NGL</label>
                <input type="text" id="target" placeholder="Masukkan username NGL (tanpa @)...">
            </div>

            <div class="input-group">
                <label><i class="fas fa-comment-alt"></i> Pesan untuk Spam</label>
                <textarea id="message" placeholder="Masukkan pesan yang ingin di-spam...">Hallo</textarea>
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="sentCount">0</div>
                    <div class="stat-label">Messages Sent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="successCount">0</div>
                    <div class="stat-label">Successful</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="errorCount">0</div>
                    <div class="stat-label">Failed</div>
                </div>
            </div>

            <!-- Controls -->
            <div class="input-group">
                <label><i class="fas fa-paper-plane"></i> Message Count</label>
                <div class="range-group">
                    <input type="range" id="countRange" min="1" max="100" value="10">
                    <input type="number" id="count" min="1" max="100" value="10" class="range-value">
                </div>
            </div>

            <div class="input-group">
                <label><i class="fas fa-clock"></i> Delay (milliseconds)</label>
                <div class="range-group">
                    <input type="range" id="delayRange" min="100" max="5000" step="100" value="1000">
                    <input type="number" id="delay" min="100" max="10000" value="1000" class="range-value">
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-grid">
                <button class="quick-btn" onclick="setQuickSettings(5, 500)"><i class="fas fa-bolt"></i> Fast (5 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(20, 1000)"><i class="fas fa-running"></i> Medium (20 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(50, 2000)"><i class="fas fa-skull"></i> Heavy (50 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(100, 3000)"><i class="fas fa-fire"></i> Extreme (100 msg)</button>
            </div>

            <!-- Progress -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="startAttack()" id="attackBtn">
                    <i class="fas fa-play"></i> Start Attack
                </button>
                <button class="btn btn-secondary" onclick="clearLog()">
                    <i class="fas fa-broom"></i> Clear Log
                </button>
            </div>

            <div id="limitWarning" style="display: none; color: var(--error); text-align: center; margin-top: 10px;">
                â ï¸ Limit harian kamu sudah habis. Reset di midnight.
            </div>
        </div>

        <!-- Log -->
        <div class="card">
            <div class="log-container" id="log">
                <!-- Log entries will appear here -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-buttons">
                <a href="/dashboard" class="footer-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <a href="/logout" class="footer-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <div class="status-info">
                <i class="fas fa-circle" style="color: var(--success)"></i> System Ready
            </div>
        </div>
    </div>

    <script>
        // Variabel global yang lebih ringan
        let isRunning = false;
        let stats = { sent: 0, success: 0, error: 0 };
        let userData = {
            usageToday: 0,
            maxDailyLimit: 200
        };

        // Fungsi untuk mengambil data statistik dari server
        async function fetchUserStats() {
            try {
                const response = await fetch('/api/ngl-stats');
                if (response.ok) {
                    const data = await response.json();
                    userData.usageToday = data.userStats.todayUsage;
                    userData.maxDailyLimit = data.userStats.dailyLimit;
                    utils.updateUsageStats();
                }
            } catch (error) {
                console.error('Gagal mengambil statistik:', error);
            }
        }

        // Fungsi utilitas yang dioptimalkan
        const utils = {
            delay: ms => new Promise(r => setTimeout(r, ms)),
            
            logMessage: (msg, type = 'info') => {
                const log = document.getElementById('log');
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
                log.appendChild(entry);
                log.scrollTop = log.scrollHeight;
            },
            
            updateStats: (type = 'sent') => {
                stats[type]++;
                document.getElementById('sentCount').textContent = stats.sent;
                document.getElementById('successCount').textContent = stats.success;
                document.getElementById('errorCount').textContent = stats.error;
                
                const total = parseInt(document.getElementById('count').value);
                if (total > 0) {
                    const progress = (stats.sent / total) * 100;
                    document.getElementById('progressFill').style.width = `${Math.min(progress, 100)}%`;
                }
            },

            updateUsageStats: () => {
                const remaining = userData.maxDailyLimit - userData.usageToday;
                const usagePercentage = (userData.usageToday / userData.maxDailyLimit) * 100;
                
                document.getElementById('usageToday').textContent = `${userData.usageToday} / ${userData.maxDailyLimit} pesan`;
                document.getElementById('remainingLimit').textContent = `${remaining} pesan`;
                document.getElementById('usageStat').innerHTML = `${userData.usageToday}<span style="font-size: 14px; color: #888;">/${userData.maxDailyLimit}</span>`;
                document.getElementById('remainingStat').textContent = remaining;
                document.getElementById('usageProgress').style.width = `${usagePercentage}%`;
                
                // Update count input max value
                const countInput = document.getElementById('count');
                countInput.max = Math.min(100, remaining);
                
                // Show warning if limit is reached
                if (remaining <= 0) {
                    document.getElementById('attackBtn').disabled = true;
                    document.getElementById('limitWarning').style.display = 'block';
                } else {
                    document.getElementById('attackBtn').disabled = false;
                    document.getElementById('limitWarning').style.display = 'none';
                }
            }
        };

        // Fungsi utama attack yang terhubung dengan backend
        async function startAttack() {
            if (isRunning) {
                alert("Attack sedang berjalan!");
                return;
            }
            
            const target = document.getElementById('target').value.trim();
            const message = document.getElementById('message').value.trim();
            const count = parseInt(document.getElementById('count').value);
            const delayMs = parseInt(document.getElementById('delay').value);

            // Validasi input
            if (!target || !message) {
                alert("Harap isi Target dan Pesan!");
                return;
            }

            // Validasi limit
            const remaining = userData.maxDailyLimit - userData.usageToday;
            if (count > remaining) {
                alert(`Jumlah pesan melebihi sisa limit harian! Sisa: ${remaining} pesan`);
                return;
            }

            // Reset state
            stats = { sent: 0, success: 0, error: 0 };
            utils.updateStats();
            isRunning = true;
            
            // Update UI
            document.getElementById('attackBtn').innerHTML = '<i class="fas fa-stop"></i> Stop Attack';
            document.getElementById('attackBtn').onclick = stopAttack;
            document.getElementById('attackBtn').classList.add('btn-secondary');
            document.getElementById('log').innerHTML = "";
            
            utils.logMessage(`ð Memulai spam pesan ke ${target}...`, "info");

            try {
                // Kirim request ke backend
                const response = await fetch('/api/ngl-spam-js', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        target: target,
                        message: message,
                        count: count,
                        delay: delayMs
                    })
                });

                const result = await response.json();

                if (result.success) {
                    utils.logMessage(`â Attack berhasil dimulai!`, "success");
                    utils.logMessage(`ð Target: ${target}`, "info");
                    utils.logMessage(`ð Pesan: ${message}`, "info");
                    utils.logMessage(`ð¢ Jumlah: ${count} pesan`, "info");
                    
                    // Update stats dari hasil backend
                    if (result.stats) {
                        userData.usageToday = result.stats.userToday;
                        utils.updateUsageStats();
                    }
                    
                    // Simulasi progress (dalam implementasi nyata, gunakan WebSocket atau polling)
                    for (let i = 0; i < count && isRunning; i++) {
                        await utils.delay(delayMs);
                        utils.updateStats('sent');
                        utils.updateStats('success');
                    }
                    
                } else {
                    utils.logMessage(`â Gagal memulai attack: ${result.error}`, "error");
                }
                
            } catch (error) {
                utils.logMessage(`ð¥ System Error: ${error.message}`, "error");
            } finally {
                isRunning = false;
                document.getElementById('attackBtn').innerHTML = '<i class="fas fa-play"></i> Start Attack';
                document.getElementById('attackBtn').onclick = startAttack;
                document.getElementById('attackBtn').classList.remove('btn-secondary');
                utils.logMessage("ð Spam selesai!", "success");
                
                // Refresh stats setelah selesai
                await fetchUserStats();
            }
        }

        function stopAttack() {
            isRunning = false;
            document.getElementById('attackBtn').innerHTML = '<i class="fas fa-play"></i> Start Attack';
            document.getElementById('attackBtn').onclick = startAttack;
            document.getElementById('attackBtn').classList.remove('btn-secondary');
            utils.logMessage("â¹ï¸ Spam dihentikan", "warning");
        }

        function setQuickSettings(count, delay) {
            document.getElementById('count').value = count;
            document.getElementById('countRange').value = count;
            document.getElementById('delay').value = delay;
            document.getElementById('delayRange').value = delay;
            utils.logMessage(`â¡ Preset: ${count} pesan, ${delay}ms delay`, "info");
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            utils.logMessage('ðï¸ Log dibersihkan', "info");
        }

        // Countdown timer ke midnight
        function updateResetTimer() {
            const now = new Date();
            const midnight = new Date();
            midnight.setHours(24, 0, 0, 0);
            
            const diff = midnight - now;
            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            const timerElement = document.getElementById('resetTimer');
            if (timerElement) {
                timerElement.textContent = 
                    String(hours).padStart(2, '0') + ':' +
                    String(minutes).padStart(2, '0') + ':' +
                    String(seconds).padStart(2, '0');
            }
        }

        // Event listeners ketika halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Sync range dan number inputs
            const syncInputs = (rangeId, numberId) => {
                const range = document.getElementById(rangeId);
                const number = document.getElementById(numberId);
                
                range.addEventListener('input', () => number.value = range.value);
                number.addEventListener('input', () => range.value = number.value);
            };
            
            syncInputs('countRange', 'count');
            syncInputs('delayRange', 'delay');

            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Initialize usage stats
            fetchUserStats();
            utils.updateUsageStats();

            // Update timer every second
            setInterval(updateResetTimer, 1000);

            // Log welcome message
            setTimeout(() => {
                utils.logMessage('ð Sistem NGL Spam siap digunakan', 'success');
                utils.logMessage('âï¸ Masukkan username target dan pesan untuk memulai', 'info');
            }, 500);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Telegram Spam - One Verse</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --success: #00C851;
            --error: #ff4444;
            --warning: #ffaa00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        .header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            flex: 1;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            max-width: 600px;
            margin: 0 auto 30px;
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-2px);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95em;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.3);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
            font-family: 'Orbitron', monospace;
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .range-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .range-group input[type="range"] {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            outline: none;
            -webkit-appearance: none;
        }

        .range-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-purple-light);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(177, 156, 217, 0.4);
        }

        .range-value {
            min-width: 70px;
            text-align: center;
            background: var(--accent-purple);
            color: white;
            padding: 8px 12px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 0.9em;
            font-family: 'Orbitron', monospace;
        }

        .quick-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .quick-btn {
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8em;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
            transform: translateY(-2px);
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 10px;
            transition: width 0.4s ease;
            width: 0%;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .btn {
            padding: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Orbitron', monospace;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .log-container {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            margin-top: 20px;
            height: 250px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .log-entry {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85em;
            font-family: 'Courier New', monospace;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .success { color: var(--success); }
        .error { color: var(--error); }
        .warning { color: var(--warning); }
        .info { color: var(--accent-purple-light); }

        .footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
        }

        .footer-btn {
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .footer-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
        }

        .status-info {
            font-size: 0.8em;
            color: var(--accent-purple-light);
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .page-title {
                font-size: 1.6em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .quick-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-buttons {
                justify-content: center;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }
        }

        /* Animasi sederhana */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease;
        }

        /* Icon styling */
        .fas, .fab {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="/dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
                <li><a href="/telegram-spam" class="nav-link active">Telegram Spam</a></li>
                <li><a href="https://wa.me/639382403891" class="nav-link">WhatsApp</a></li>
                <li><a href="https://t.me/leozema" class="nav-link">Telegram</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1 class="page-title"><i class="fab fa-telegram"></i> Telegram Messenger</h1>
            <div class="page-subtitle">Advanced Message Delivery System</div>
        </div>

        <!-- Main Form -->
        <div class="card">
            <div class="input-group">
                <label><i class="fas fa-key"></i> Bot Token</label>
                <input type="text" id="tokenInput" placeholder="Enter your Telegram bot token...">
            </div>

            <div class="input-group">
                <label><i class="fas fa-target"></i> Target (ID Telegram)</label>
                <input type="text" id="chatId" placeholder="Example: 123456789">
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="sentCount">0</div>
                    <div class="stat-label">Messages Sent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="successCount">0</div>
                    <div class="stat-label">Successful</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="errorCount">0</div>
                    <div class="stat-label">Failed</div>
                </div>
            </div>

            <!-- Message Input -->
            <div class="input-group">
                <label><i class="fas fa-comment-alt"></i> Message to Spam</label>
                <textarea id="message" placeholder="Enter the message you want to spam...">hallo</textarea>
            </div>

            <!-- Controls -->
            <div class="input-group">
                <label><i class="fas fa-paper-plane"></i> Message Count</label>
                <div class="range-group">
                    <input type="range" id="countRange" min="1" max="100" value="10">
                    <input type="number" id="count" min="1" max="1000" value="10" class="range-value">
                </div>
            </div>

            <div class="input-group">
                <label><i class="fas fa-clock"></i> Delay (milliseconds)</label>
                <div class="range-group">
                    <input type="range" id="delayRange" min="100" max="5000" step="100" value="1000">
                    <input type="number" id="delay" min="100" max="10000" value="1000" class="range-value">
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-grid">
                <button class="quick-btn" onclick="setQuickSettings(5, 500)"><i class="fas fa-bolt"></i> Fast (5 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(20, 1000)"><i class="fas fa-running"></i> Medium (20 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(50, 2000)"><i class="fas fa-skull"></i> Heavy (50 msg)</button>
                <button class="quick-btn" onclick="setQuickSettings(100, 3000)"><i class="fas fa-fire"></i> Extreme (100 msg)</button>
            </div>

            <!-- Progress -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="startAttack()" id="attackBtn">
                    <i class="fas fa-play"></i> Start Attack
                </button>
                <button class="btn btn-secondary" onclick="clearLog()">
                    <i class="fas fa-broom"></i> Clear Log
                </button>
            </div>
        </div>

        <!-- Log -->
        <div class="card">
            <div class="log-container" id="log">
                <!-- Log entries will appear here -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-buttons">
                <a href="/dashboard" class="footer-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <a href="/logout" class="footer-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <div class="status-info">
                <i class="fas fa-circle" style="color: var(--success)"></i> System Ready
            </div>
        </div>
    </div>

    <script>
        // Variabel global yang lebih ringan
        let isRunning = false;
        let stats = { sent: 0, success: 0, error: 0 };

        // Fungsi utilitas yang dioptimalkan
        const utils = {
            delay: ms => new Promise(r => setTimeout(r, ms)),
            
            logMessage: (msg, type = 'info') => {
                const log = document.getElementById('log');
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
                log.appendChild(entry);
                log.scrollTop = log.scrollHeight;
            },
            
            updateStats: (type = 'sent') => {
                stats[type]++;
                document.getElementById('sentCount').textContent = stats.sent;
                document.getElementById('successCount').textContent = stats.success;
                document.getElementById('errorCount').textContent = stats.error;
                
                const total = parseInt(document.getElementById('count').value);
                if (total > 0) {
                    const progress = (stats.sent / total) * 100;
                    document.getElementById('progressFill').style.width = `${Math.min(progress, 100)}%`;
                }
            }
        };

        // Fungsi API Telegram
        const telegramAPI = {
            sendMessage: async (botToken, chatId, text) => {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: chatId, text, parse_mode: 'HTML' })
                });
                return await response.json();
            }
        };

        // Fungsi utama attack
        async function startAttack() {
            if (isRunning) {
                alert("Attack sedang berjalan!");
                return;
            }
            
            const botToken = document.getElementById('tokenInput').value.trim();
            const chatId = document.getElementById('chatId').value.trim();
            const message = document.getElementById('message').value.trim();
            const count = parseInt(document.getElementById('count').value);
            const delayMs = parseInt(document.getElementById('delay').value);

            // Validasi input
            if (!botToken || !chatId) {
                alert("Harap isi Bot Token dan Target!");
                return;
            }

            if (!message) {
                alert("Harap isi pesan yang ingin di-spam!");
                return;
            }

            // Validasi target yang dilindungi
            const protectedTargets = ['@GyzenVtx', 'Vortunix', '7774881838', '@Gyzen', 'Vtx'];
            if (protectedTargets.some(target => chatId.toLowerCase().includes(target.toLowerCase()))) {
                alert("â Target ini dilindungi dan tidak dapat diserang!");
                return;
            }

            // Reset state
            stats = { sent: 0, success: 0, error: 0 };
            utils.updateStats();
            isRunning = true;
            
            // Update UI
            document.getElementById('attackBtn').innerHTML = '<i class="fas fa-stop"></i> Stop Attack';
            document.getElementById('attackBtn').classList.add('btn-secondary');
            document.getElementById('log').innerHTML = "";
            
            utils.logMessage(`ð Memulai spam pesan ke ${chatId}...`, "info");

            try {
                // Kirim notifikasi ke server
                await fetch('/api/telegram-spam', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ token: botToken, chatId, count, delay: delayMs, message })
                });

                utils.logMessage("â Spam dimulai!", "success");

                // Eksekusi spam
                for (let i = 0; i < count && isRunning; i++) {
                    try {
                        const current = i + 1;
                        
                        const result = await telegramAPI.sendMessage(
                            botToken, 
                            chatId, 
                            message
                        );

                        if (result.ok) {
                            utils.logMessage(`â ${current}/${count} berhasil: "${message}"`, "success");
                            utils.updateStats('success');
                        } else {
                            utils.logMessage(`â ${current}/${count} gagal: ${result.description}`, "error");
                            utils.updateStats('error');
                        }
                        
                        utils.updateStats('sent');
                        await utils.delay(delayMs);
                        
                    } catch (error) {
                        utils.logMessage(`ð¥ Error: ${error.message}`, "error");
                        utils.updateStats('error');
                    }
                }
                
            } catch (error) {
                utils.logMessage(`â System Error: ${error.message}`, "error");
            } finally {
                isRunning = false;
                document.getElementById('attackBtn').innerHTML = '<i class="fas fa-play"></i> Start Attack';
                document.getElementById('attackBtn').classList.remove('btn-secondary');
                utils.logMessage("ð Spam selesai!", "success");
            }
        }

        function stopAttack() {
            isRunning = false;
            document.getElementById('attackBtn').innerHTML = '<i class="fas fa-play"></i> Start Attack';
            document.getElementById('attackBtn').classList.remove('btn-secondary');
            utils.logMessage("â¹ï¸ Spam dihentikan", "warning");
        }

        function setQuickSettings(count, delay) {
            document.getElementById('count').value = count;
            document.getElementById('countRange').value = count;
            document.getElementById('delay').value = delay;
            document.getElementById('delayRange').value = delay;
            utils.logMessage(`â¡ Preset: ${count} pesan, ${delay}ms delay`, "info");
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            utils.logMessage('ðï¸ Log dibersihkan', "info");
        }

        // Event listeners ketika halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Sync range dan number inputs
            const syncInputs = (rangeId, numberId) => {
                const range = document.getElementById(rangeId);
                const number = document.getElementById(numberId);
                
                range.addEventListener('input', () => number.value = range.value);
                number.addEventListener('input', () => range.value = number.value);
            };
            
            syncInputs('countRange', 'count');
            syncInputs('delayRange', 'delay');

            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Log welcome message
            setTimeout(() => {
                utils.logMessage('ð Sistem Telegram siap digunakan', 'success');
                utils.logMessage('âï¸ Masukkan token bot, target, dan pesan', 'info');
            }, 500);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok Downloader - One Verse</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --success: #00C851;
            --error: #ff4444;
            --warning: #ffaa00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        .header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            flex: 1;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            max-width: 600px;
            margin: 0 auto 30px;
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-2px);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95em;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.3);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
            font-family: 'Orbitron', monospace;
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .btn {
            padding: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Orbitron', monospace;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .log-container {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            margin-top: 20px;
            height: 250px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .log-entry {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85em;
            font-family: 'Courier New', monospace;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .success { color: var(--success); }
        .error { color: var(--error); }
        .warning { color: var(--warning); }
        .info { color: var(--accent-purple-light); }

        .footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
        }

        .footer-btn {
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .footer-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
        }

        .status-info {
            font-size: 0.8em;
            color: var(--accent-purple-light);
            font-weight: 600;
        }

        .result-section {
            display: none;
            margin-top: 20px;
        }

        .video-preview-container {
            width: 100%;
            max-width: 350px;
            margin: 0 auto 20px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        }

        .video-preview {
            width: 100%;
            height: auto;
            display: block;
            background: #000;
        }

        .video-info {
            background: rgba(30, 30, 30, 0.6);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }

        .video-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 0.5rem;
        }

        .video-author {
            font-size: 0.9rem;
            color: var(--accent-purple-light);
            margin-bottom: 0.5rem;
        }

        .video-stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .download-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .download-option {
            padding: 1.5rem;
            border-radius: 16px;
            background: linear-gradient(
                135deg,
                rgba(177, 156, 217, 0.2),
                rgba(216, 200, 255, 0.2)
            );
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #e2e8f0;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
        }

        .download-option:hover {
            background: linear-gradient(
                135deg,
                rgba(177, 156, 217, 0.3),
                rgba(216, 200, 255, 0.3)
            );
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(177, 156, 217, 0.4);
            border-color: var(--accent-purple);
        }

        .download-option i {
            font-size: 2rem;
            color: var(--accent-purple);
        }

        .download-option span {
            font-weight: 600;
            font-size: 1.05rem;
        }

        .progress-container {
            margin: 20px 0;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 10px;
            transition: width 0.4s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 0.95rem;
            color: #94a3b8;
            text-align: center;
            font-weight: 500;
            margin-top: 0.8rem;
        }

        .error-message,
        .success-message {
            background-color: rgba(0, 0, 0, 0.25);
            padding: 1rem 1.2rem;
            border-radius: 16px;
            margin-top: 1rem;
            font-weight: 500;
            position: relative;
            z-index: 1;
            max-height: 100px;
            overflow: hidden;
            transition: opacity 0.5s ease, max-height 0.5s ease;
            display: none;
        }

        .error-message {
            background: rgba(239, 68, 68, 0.15);
            border: 2px solid rgba(239, 68, 68, 0.4);
            color: #fca5a5;
        }

        .success-message {
            background: rgba(34, 197, 94, 0.15);
            border: 2px solid rgba(34, 197, 94, 0.4);
            color: #86efac;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .page-title {
                font-size: 1.6em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .download-options {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-buttons {
                justify-content: center;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }
        }

        /* Animasi sederhana */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease;
        }

        /* Icon styling */
        .fas, .fab {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="/dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
                <li><a href="/tiktok-downloader" class="nav-link active">TikTok Downloader</a></li>
                <li><a href="https://wa.me/6283844537093" class="nav-link">WhatsApp</a></li>
                <li><a href="https://t.me/leozema" class="nav-link">Telegram</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1 class="page-title"><i class="fab fa-tiktok"></i> TikTok Downloader</h1>
            <div class="page-subtitle">Advanced Video Download System with Preview</div>
        </div>

        <!-- Main Form -->
        <div class="card">
            <div class="input-group">
                <label><i class="fas fa-link"></i> TikTok URL</label>
                <input type="text" id="tiktok-url" placeholder="Masukkan URL video TikTok...">
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="successCount">0</div>
                    <div class="stat-label">Successful</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="pendingCount">0</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="errorCount">0</div>
                    <div class="stat-label">Failed</div>
                </div>
            </div>

            <!-- Progress -->
            <div class="progress-container" id="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Mempersiapkan download...</div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="downloadTikTok()" id="downloadBtn">
                    <i class="fas fa-download"></i> Download Video
                </button>
                <button class="btn btn-secondary" onclick="clearLog()">
                    <i class="fas fa-broom"></i> Clear Log
                </button>
            </div>

            <!-- Messages -->
            <div class="error-message" id="error-message"></div>
            <div class="success-message" id="success-message"></div>
        </div>

        <!-- Result Section -->
        <div class="card result-section" id="result-section">
            <h2 class="page-title"><i class="fas fa-check-circle"></i> Video Preview</h2>
            
            <!-- Video Preview -->
            <div class="video-preview-container">
                <video class="video-preview" id="video-preview" controls autoplay muted loop>
                    Your browser does not support the video tag.
                </video>
            </div>
            
            <!-- Video Info -->
            <div class="video-info" id="video-info">
                <div class="video-title" id="video-title">Video Title</div>
                <div class="video-author" id="video-author">@username</div>
                <div class="video-stats">
                    <span><i class="fas fa-heart"></i> <span id="like-count">0</span></span>
                    <span><i class="fas fa-comment"></i> <span id="comment-count">0</span></span>
                    <span><i class="fas fa-share"></i> <span id="share-count">0</span></span>
                </div>
            </div>

            <!-- Download Options -->
            <div class="download-options">
                <a href="#" class="download-option" id="download-video">
                    <i class="fas fa-film"></i>
                    <span>Download Video</span>
                    <small style="color: #94a3b8;">HD Quality</small>
                </a>
                <a href="#" class="download-option" id="download-audio">
                    <i class="fas fa-music"></i>
                    <span>Download Audio</span>
                    <small style="color: #94a3b8;">MP3 Format</small>
                </a>
            </div>
        </div>

        <!-- Log -->
        <div class="card">
            <div class="log-container" id="log">
                <!-- Log entries will appear here -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-buttons">
                <a href="/dashboard" class="footer-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <a href="/logout" class="footer-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <div class="status-info">
                <i class="fas fa-circle" style="color: var(--success)"></i> System Ready
            </div>
        </div>
    </div>

    <script>
        // Variabel global
        let isDownloading = false;
        let stats = { success: 0, pending: 0, error: 0 };
        let currentVideoData = null;

        // Fungsi utilitas yang dioptimalkan
        const utils = {
            delay: ms => new Promise(r => setTimeout(r, ms)),
            
            logMessage: (msg, type = 'info') => {
                const log = document.getElementById('log');
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
                log.appendChild(entry);
                log.scrollTop = log.scrollHeight;
            },
            
            updateStats: (type = 'pending') => {
                stats[type]++;
                document.getElementById('successCount').textContent = stats.success;
                document.getElementById('pendingCount').textContent = stats.pending;
                document.getElementById('errorCount').textContent = stats.error;
            },
            
            setLoading: (isLoading) => {
                const downloadBtn = document.getElementById('downloadBtn');
                isDownloading = isLoading;
                downloadBtn.disabled = isLoading;
                downloadBtn.innerHTML = isLoading 
                    ? '<i class="fas fa-spinner fa-spin"></i> Memproses...' 
                    : '<i class="fas fa-download"></i> Download Video';
            },
            
            showError: (message) => {
                const errorMsg = document.getElementById('error-message');
                errorMsg.textContent = 'â ' + message;
                errorMsg.style.display = 'block';
                const successMsg = document.getElementById('success-message');
                successMsg.style.display = 'none';
            },
            
            showSuccess: (message) => {
                const successMsg = document.getElementById('success-message');
                successMsg.textContent = 'â ' + message;
                successMsg.style.display = 'block';
                const errorMsg = document.getElementById('error-message');
                errorMsg.style.display = 'none';
            },
            
            hideMessages: () => {
                document.getElementById('error-message').style.display = 'none';
                document.getElementById('success-message').style.display = 'none';
            },
            
            updateProgress: (percent, text) => {
                document.getElementById('progress-fill').style.width = `${percent}%`;
                document.getElementById('progress-text').textContent = text;
            }
        };

        // Validasi URL TikTok
        function isValidTikTokUrl(url) {
            const patterns = [
                /^https?:\/\/(www\.|vm\.|vt\.)?tiktok\.com\/.+/i,
                /^https?:\/\/([a-z]{2}\.)?tiktok\.com\/@[\w.-]+\/video\/\d+/i,
                /^https?:\/\/vt\.tiktok\.com\/.+/i,
                /^https?:\/\/vm\.tiktok\.com\/.+/i
            ];
            return patterns.some(pattern => pattern.test(url));
        }

        // API endpoints untuk download TikTok
        const API_ENDPOINTS = [
            {
                name: "TikWM",
                url: (url) => `https://www.tikwm.com/api/?url=${encodeURIComponent(url)}`,
                method: "GET",
                parse: (data) => {
                    if (data.data) {
                        return {
                            success: true,
                            video: data.data.play || data.data.wmplay,
                            music: data.data.music,
                            title: data.data.title,
                            author: data.data.author,
                            statistics: {
                                like_count: data.data.digg_count || 0,
                                comment_count: data.data.comment_count || 0,
                                share_count: data.data.share_count || 0
                            }
                        };
                    }
                    throw new Error("Invalid response format");
                }
            },
            {
                name: "TikDown",
                url: (url) => `https://www.tikdown.org/api/ajaxSearch?url=${encodeURIComponent(url)}&_=${Date.now()}`,
                method: "POST",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8",
                    "X-Requested-With": "XMLHttpRequest"
                },
                parse: (data) => {
                    if (data.data && data.links) {
                        return {
                            success: true,
                            video: data.links[0]?.a || data.links[0]?.url,
                            music: data.music,
                            title: data.title,
                            author: data.author,
                            statistics: {
                                like_count: data.like_count || 0,
                                comment_count: data.comment_count || 0,
                                share_count: data.share_count || 0
                            }
                        };
                    }
                    throw new Error("Invalid response format");
                }
            }
        ];

        // Fungsi untuk mengambil data TikTok
        async function fetchTikTokData(url) {
            let lastError = null;
            
            for (const endpoint of API_ENDPOINTS) {
                try {
                    utils.logMessage(`Mencoba API: ${endpoint.name}`, "info");
                    
                    const requestOptions = {
                        method: endpoint.method,
                        headers: endpoint.headers || {}
                    };
                    
                    if (endpoint.method === "POST") {
                        requestOptions.body = new URLSearchParams({
                            url: url
                        });
                    }
                    
                    const response = await fetch(endpoint.url(url), requestOptions);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    utils.logMessage(`${endpoint.name} Response: ${JSON.stringify(data).substring(0, 100)}...`, "info");
                    
                    const normalizedData = endpoint.parse(data);
                    
                    if (normalizedData.success) {
                        utils.logMessage(`Berhasil dengan ${endpoint.name}`, "success");
                        return normalizedData;
                    }
                    
                } catch (error) {
                    utils.logMessage(`${endpoint.name} gagal: ${error.message}`, "error");
                    lastError = error;
                    continue;
                }
            }
            
            throw lastError || new Error("Semua API download gagal. Silakan coba lagi nanti.");
        }

        // Fungsi untuk mendownload file
        function downloadFile(url, filename) {
            // Buat elemen anchor sementara
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            link.target = '_blank';
            
            // Tambahkan ke body, klik, dan hapus
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            utils.showSuccess('Download dimulai! Periksa folder download Anda.');
        }

        // Fungsi untuk menampilkan video preview
        function showVideoPreview(videoUrl, videoData) {
            const videoPreview = document.getElementById('video-preview');
            const videoTitle = document.getElementById('video-title');
            const videoAuthor = document.getElementById('video-author');
            const likeCount = document.getElementById('like-count');
            const commentCount = document.getElementById('comment-count');
            const shareCount = document.getElementById('share-count');
            
            // Set video source
            videoPreview.src = videoUrl;
            
            // Set video info
            videoTitle.textContent = videoData.title || 'Video TikTok';
            videoAuthor.textContent = videoData.author ? `@${videoData.author}` : '@tiktok_user';
            
            // Set statistics
            likeCount.textContent = videoData.statistics.like_count || '0';
            commentCount.textContent = videoData.statistics.comment_count || '0';
            shareCount.textContent = videoData.statistics.share_count || '0';
            
            // Tampilkan result section
            document.getElementById('result-section').style.display = 'block';
            
            // Setup download buttons
            if (videoData.video) {
                document.getElementById('download-video').onclick = (e) => {
                    e.preventDefault();
                    const filename = `tiktok-video-${Date.now()}.mp4`;
                    downloadFile(videoData.video, filename);
                };
                document.getElementById('download-video').style.display = 'flex';
            }

            if (videoData.music) {
                document.getElementById('download-audio').onclick = (e) => {
                    e.preventDefault();
                    const filename = `tiktok-audio-${Date.now()}.mp3`;
                    downloadFile(videoData.music, filename);
                };
                document.getElementById('download-audio').style.display = 'flex';
            } else {
                document.getElementById('download-audio').style.display = 'none';
            }
            
            // Auto play video
            videoPreview.play().catch(e => {
                utils.logMessage('Autoplay diblokir browser, klik video untuk memutar', 'warning');
            });
        }

        // Fungsi utama download TikTok
        async function downloadTikTok() {
            if (isDownloading) {
                alert("Download sedang berjalan!");
                return;
            }
            
            const url = document.getElementById('tiktok-url').value.trim();

            // Validasi input
            if (!url) {
                utils.showError('Masukkan URL TikTok terlebih dahulu!');
                return;
            }

            if (!isValidTikTokUrl(url)) {
                utils.showError('URL tidak valid! Pastikan URL dari TikTok.');
                return;
            }

            // Reset state
            stats = { success: 0, pending: 0, error: 0 };
            utils.updateStats();
            isDownloading = true;
            
            // Update UI
            utils.setLoading(true);
            utils.hideMessages();
            document.getElementById('result-section').style.display = 'none';
            document.getElementById('progress-container').style.display = 'block';
            utils.updateProgress(20, 'Mengambil data video...');

            utils.logMessage(`ð Memulai download video dari ${url}...`, "info");

            try {
                const data = await fetchTikTokData(url);
                utils.updateProgress(60, 'Memproses video...');

                currentVideoData = data;

                // Tampilkan preview video
                showVideoPreview(data.video, data);
                
                utils.updateProgress(100, 'Selesai! Video siap untuk didownload.');
                utils.updateStats('success');

                setTimeout(() => {
                    document.getElementById('progress-container').style.display = 'none';
                    utils.showSuccess('Video berhasil diproses! Klik tombol download di bawah.');
                }, 800);
                
            } catch (error) {
                console.error('Download error:', error);
                document.getElementById('progress-container').style.display = 'none';

                let errorMsg = 'Gagal mendownload video. ';
                if (error.message.includes('404')) {
                    errorMsg += 'Video tidak ditemukan atau sudah dihapus.';
                } else if (error.message.includes('403')) {
                    errorMsg += 'Video bersifat privat atau dibatasi.';
                } else if (error.message.includes('All download APIs failed')) {
                    errorMsg += 'Semua API sedang down. Silakan coba lagi nanti.';
                } else {
                    errorMsg += 'Coba video lain atau gunakan URL yang berbeda.';
                }

                utils.showError(errorMsg);
                utils.updateStats('error');
            } finally {
                utils.setLoading(false);
            }
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            utils.logMessage('ðï¸ Log dibersihkan', "info");
        }

        // Event listeners ketika halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Validasi URL real-time
            document.getElementById('tiktok-url').addEventListener('input', (e) => {
                const url = e.target.value.trim();
                if (!url) {
                    utils.hideMessages();
                    return;
                }
                if (!isValidTikTokUrl(url)) {
                    utils.showError('URL tidak valid! Pastikan URL dari TikTok.');
                } else {
                    utils.hideMessages();
                }
            });

            // Log welcome message
            setTimeout(() => {
                utils.logMessage('ð Sistem TikTok Downloader siap digunakan', 'success');
                utils.logMessage('âï¸ Masukkan URL video TikTok untuk memulai', 'info');
            }, 500);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Downloader - GOJO INFINITY  </title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-black: #0a0a0a;
            --carbon-dark: #121212;
            --carbon-medium: #1a1a1a;
            --carbon-light: #2a2a2a;
            --accent-purple: #b19cd9;
            --accent-purple-light: #d8c8ff;
            --accent-purple-dark: #8a6bc9;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --success: #00C851;
            --error: #ff4444;
            --warning: #ffaa00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--primary-black);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
            font-size: 15px;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(177, 156, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(216, 200, 255, 0.08) 0%, transparent 50%),
                var(--primary-black);
            z-index: -2;
        }

        .header {
            position: sticky;
            top: 0;
            width: 100%;
            background: rgba(18, 18, 18, 0.95);
            border-bottom: 1px solid rgba(177, 156, 217, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            padding: 12px 0;
        }

        .nav-container {
            max-width: 100%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            background: linear-gradient(135deg, var(--accent-purple-light), white);
            border-radius: 6px;
            transform: rotate(45deg);
        }

        .logo-text {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 900;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
            align-items: center;
        }

        .nav-menu a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
            font-weight: 500;
            font-size: 12px;
            font-family: 'Orbitron', monospace;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, white, var(--accent-purple-light));
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after,
        .nav-menu a.active::after {
            width: 100%;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
        }

        .menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            flex: 1;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, white, var(--accent-purple-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
            max-width: 600px;
            margin: 0 auto 30px;
            text-align: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(177, 156, 217, 0.3);
            transform: translateY(-2px);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95em;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 15px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-purple-light);
            box-shadow: 0 0 0 2px rgba(177, 156, 217, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.3);
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 5px;
            font-family: 'Orbitron', monospace;
        }

        .stat-label {
            font-size: 0.85em;
            opacity: 0.9;
        }

        .range-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .range-group input[type="range"] {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            outline: none;
            -webkit-appearance: none;
        }

        .range-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-purple-light);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(177, 156, 217, 0.4);
        }

        .range-value {
            min-width: 70px;
            text-align: center;
            background: var(--accent-purple);
            color: white;
            padding: 8px 12px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 0.9em;
            font-family: 'Orbitron', monospace;
        }

        .quick-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .quick-btn {
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8em;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
            transform: translateY(-2px);
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-purple-light));
            border-radius: 10px;
            transition: width 0.4s ease;
            width: 0%;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 15px;
            margin: 25px 0;
        }

        .btn {
            padding: 16px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Orbitron', monospace;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-purple-dark));
            color: white;
            box-shadow: 0 6px 20px rgba(139, 95, 191, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(177, 156, 217, 0.6);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(177, 156, 217, 0.2);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .log-container {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            margin-top: 20px;
            height: 250px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .log-entry {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.85em;
            font-family: 'Courier New', monospace;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .success { color: var(--success); }
        .error { color: var(--error); }
        .warning { color: var(--warning); }
        .info { color: var(--accent-purple-light); }

        .footer {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
        }

        .footer-btn {
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .footer-btn:hover {
            background: var(--accent-purple);
            color: var(--primary-black);
        }

        .status-info {
            font-size: 0.8em;
            color: var(--accent-purple-light);
            font-weight: 600;
        }

        /* YouTube Downloader Specific Styles */
        .search-result-item {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            padding: 12px;
            transition: 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .search-result-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--accent-purple);
        }

        .search-result-item img {
            width: 80px;
            height: 60px;
            border-radius: 6px;
            margin-right: 12px;
            border: 1px solid var(--accent-purple);
        }

        .search-result-info {
            text-align: left;
            flex: 1;
        }

        .search-result-info h5 {
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .search-result-info p {
            color: var(--text-secondary);
            font-size: 12px;
            margin: 0;
        }

        .youtube-player {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: none;
        }

        .youtube-player.active {
            display: block;
        }

        .youtube-player h3 {
            color: var(--accent-purple-light);
            margin-bottom: 10px;
            font-family: 'Orbitron', monospace;
            font-size: 1.2em;
        }

        .youtube-player p {
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .youtube-audio {
            width: 100%;
            margin: 15px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }

        .youtube-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .youtube-controls button {
            background: var(--accent-purple);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 600;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Rajdhani', sans-serif;
        }

        .youtube-controls button:hover {
            background: var(--accent-purple-dark);
        }

        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-processing { background: var(--warning); }
        .status-success { background: var(--success); }
        .status-error { background: var(--error); }

        .download-section {
            margin: 15px 0;
            padding: 15px;
            background: rgba(177, 156, 217, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(177, 156, 217, 0.3);
            display: none;
        }

        .download-section.active {
            display: block;
        }

        .download-header {
            font-family: 'Orbitron', monospace;
            color: var(--accent-purple-light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-buttons {
            display: flex;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }
            
            .page-title {
                font-size: 1.6em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .quick-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .footer {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-buttons {
                justify-content: center;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 60px;
                flex-direction: column;
                background: rgba(18, 18, 18, 0.98);
                width: 100%;
                text-align: center;
                transition: 0.3s;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                gap: 0;
            }

            .nav-menu li {
                margin: 10px 0;
            }

            .nav-menu a {
                display: block;
                padding: 15px 30px;
                font-size: 16px;
            }

            .nav-menu.active {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }

            .download-buttons {
                flex-direction: column;
            }
        }

        /* Animasi sederhana */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            animation: fadeIn 0.5s ease;
        }

        /* Icon styling */
        .fas, .fab {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Simplified Background -->
    <div class="grid-bg"></div>

    <!-- Navigation Header -->
    <header class="header" id="header">
        <nav class="nav-container">
            <a href="/dashboard" class="logo">
                <div class="logo-icon"></div>
                <span class="logo-text">
                    GOJO INFINITY  
                </span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="/dashboard" class="nav-link">Dashboard</a></li>
                <li><a href="/youtube-downloader" class="nav-link active">YouTube Downloader</a></li>
                <li><a href="https://wa.me/6283844537093" class="nav-link">WhatsApp</a></li>
                <li><a href="https://t.me/leozema" class="nav-link">Telegram</a></li>
                <li><a href="/logout" class="nav-link">Logout</a></li>
            </ul>
            
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- Header -->
        <div class="card">
            <h1 class="page-title"><i class="fab fa-youtube"></i> YouTube Downloader</h1>
            <div class="page-subtitle">Download dan konversi video YouTube ke format MP3 dengan kualitas tinggi</div>
        </div>

        <!-- Main Form -->
        <div class="card">
            <div class="input-group">
                <label><i class="fas fa-link"></i> URL atau Judul Video YouTube</label>
                <input type="text" id="youtubeQuery" placeholder="Masukkan URL atau judul video YouTube...">
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" id="searchYoutubeBtn">
                    <i class="fas fa-search"></i> Cari Video
                </button>
                <button class="btn btn-secondary" onclick="clearResults()">
                    <i class="fas fa-broom"></i> Clear
                </button>
            </div>

            <!-- Status -->
            <div id="youtubeStatus" style="margin: 15px 0; min-height: 20px;"></div>

            <!-- Download Section - Now placed above results -->
            <div class="download-section" id="downloadSection">
                <div class="download-header">
                    <i class="fas fa-download"></i> Download Audio
                </div>
                <div class="download-buttons">
                    <button class="btn btn-primary" id="youtubeDownloadBtn">
                        <i class="fas fa-download"></i> Download MP3
                    </button>
                    <button class="btn btn-secondary" id="youtubePlayPauseBtn">
                        <i class="fas fa-play"></i> Play Audio
                    </button>
                </div>
            </div>

            <!-- Results -->
            <div id="youtubeResults"></div>

            <!-- YouTube Player -->
            <div class="youtube-player" id="youtubePlayer">
                <h3 id="youtubeTitle"></h3>
                <p id="youtubeChannel"></p>
                <p id="youtubeDuration"></p>
                <audio class="youtube-audio" id="youtubeAudio" controls></audio>
            </div>
        </div>

        <!-- Stats -->
        <div class="card">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="searchCount">0</div>
                    <div class="stat-label">Pencarian</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="downloadCount">0</div>
                    <div class="stat-label">Download</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="successCount">0</div>
                    <div class="stat-label">Berhasil</div>
                </div>
            </div>
        </div>

        <!-- Log -->
        <div class="card">
            <div class="log-container" id="log">
                <!-- Log entries will appear here -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-buttons">
                <a href="/dashboard" class="footer-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <a href="/logout" class="footer-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <div class="status-info">
                <i class="fas fa-circle" style="color: var(--success)"></i> System Ready
            </div>
        </div>
    </div>

    <script>
        const API_URL = '/api/youtube';
        let currentYoutubeAudio = null;
        let currentYoutubeData = null;
        let stats = { searches: 0, downloads: 0, success: 0 };

        // DOM Elements
        const youtubeQuery = document.getElementById('youtubeQuery');
        const searchYoutubeBtn = document.getElementById('searchYoutubeBtn');
        const youtubeStatus = document.getElementById('youtubeStatus');
        const youtubeResults = document.getElementById('youtubeResults');
        const youtubePlayer = document.getElementById('youtubePlayer');
        const youtubeTitle = document.getElementById('youtubeTitle');
        const youtubeChannel = document.getElementById('youtubeChannel');
        const youtubeDuration = document.getElementById('youtubeDuration');
        const youtubeAudio = document.getElementById('youtubeAudio');
        const youtubePlayPauseBtn = document.getElementById('youtubePlayPauseBtn');
        const youtubeDownloadBtn = document.getElementById('youtubeDownloadBtn');
        const downloadSection = document.getElementById('downloadSection');
        const logContainer = document.getElementById('log');

        // Stats elements
        const searchCount = document.getElementById('searchCount');
        const downloadCount = document.getElementById('downloadCount');
        const successCount = document.getElementById('successCount');

        // Event Listeners
        searchYoutubeBtn.addEventListener('click', searchYoutube);
        youtubeQuery.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchYoutube();
            }
        });

        youtubePlayPauseBtn.addEventListener('click', toggleYoutubePlayPause);
        youtubeDownloadBtn.addEventListener('click', downloadYoutubeMusic);

        // Functions
        function updateStats(type) {
            stats[type]++;
            searchCount.textContent = stats.searches;
            downloadCount.textContent = stats.downloads;
            successCount.textContent = stats.success;
        }

        function logMessage(msg, type = 'info') {
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function showYoutubePopup(title, message) {
            alert(`${title}: ${message}`);
        }

        async function searchYoutube() {
            const query = youtubeQuery.value.trim();
            if (!query) return showYoutubePopup("Error", "Masukkan URL atau judul video dulu!");

            youtubeStatus.innerHTML = `<span class="status-indicator status-processing"></span> Mencari...`;
            youtubeResults.innerHTML = '';
            youtubePlayer.classList.remove('active');
            downloadSection.classList.remove('active');

            try {
                updateStats('searches');
                logMessage(`ð Mencari video: "${query}"`, 'info');

                const response = await fetch(`${API_URL}/search`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query })
                });

                const data = await response.json();
                
                if (data.success) {
                    displayYoutubeResults(data.results);
                    youtubeStatus.innerHTML = `<span class="status-indicator status-success"></span> Ditemukan ${data.results.length} hasil`;
                    logMessage(`â Ditemukan ${data.results.length} hasil pencarian`, 'success');
                } else {
                    throw new Error(data.error || 'Tidak ada hasil ditemukan');
                }
            } catch (err) {
                console.error(err);
                youtubeStatus.innerHTML = `<span class="status-indicator status-error"></span> Gagal mencari: ${err.message}`;
                logMessage(`â Gagal mencari: ${err.message}`, 'error');
            }
        }

        function displayYoutubeResults(results) {
            youtubeResults.innerHTML = "";

            results.forEach((res) => {
                const durationText = res.duration?.simpleText || res.duration?.formatted || res.duration?.text || res.lengthText || res.duration || "??:??";
                const thumbnail = res.thumbnail?.url || res.thumbnail?.[0]?.url || res.thumbnails?.[0]?.url || res.thumbnail || "https://via.placeholder.com/80x60?text=No+Thumb";

                const item = document.createElement("div");
                item.className = "search-result-item";
                item.innerHTML = `
                    <img src="${thumbnail}" alt="thumb">
                    <div class="search-result-info">
                        <h5>${res.title}</h5>
                        <p>Durasi: ${durationText}</p>
                    </div>
                `;
                item.addEventListener('click', () => playYoutubeMusic(res));
                youtubeResults.appendChild(item);
            });
        }

        async function playYoutubeMusic(data) {
            youtubeStatus.innerHTML = `<span class="status-indicator status-processing"></span> Mengambil audio...`;
            logMessage(`ðµ Memproses audio: "${data.title}"`, 'info');

            try {
                const response = await fetch(`${API_URL}/download`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ url: data.url })
                });

                const result = await response.json();
                
                if (result.success) {
                    currentYoutubeAudio = youtubeAudio;
                    currentYoutubeData = data;

                    const durationText = data.duration?.simpleText || data.duration?.formatted || data.duration?.text || data.lengthText || data.duration || "-";

                    youtubeTitle.textContent = data.title;
                    youtubeChannel.textContent = data.channel || "Unknown Channel";
                    youtubeDuration.textContent = `Durasi: ${durationText}`;
                    youtubeAudio.src = result.audioUrl;
                    
                    // Show download section and player
                    downloadSection.classList.add("active");
                    youtubePlayer.classList.add("active");
                    
                    youtubeStatus.innerHTML = `<span class="status-indicator status-success"></span> Siap diputar: ${data.title}`;
                    logMessage(`â Audio siap: "${data.title}"`, 'success');
                    updateStats('success');
                } else {
                    throw new Error(result.error || 'Gagal mendapatkan URL audio');
                }
            } catch (err) {
                console.error(err);
                youtubeStatus.innerHTML = `<span class="status-indicator status-error"></span> Gagal memutar: ${err.message}`;
                logMessage(`â Gagal memutar: ${err.message}`, 'error');
            }
        }

        function toggleYoutubePlayPause() {
            const btn = youtubePlayPauseBtn;
            const icon = btn.querySelector('i');
            if (!currentYoutubeAudio) return;
            
            if (currentYoutubeAudio.paused) {
                currentYoutubeAudio.play();
                icon.className = 'fas fa-pause';
                btn.innerHTML = '<i class="fas fa-pause"></i> Pause Audio';
                logMessage(`â¶ï¸ Memutar audio: "${currentYoutubeData.title}"`, 'info');
            } else {
                currentYoutubeAudio.pause();
                icon.className = 'fas fa-play';
                btn.innerHTML = '<i class="fas fa-play"></i> Play Audio';
                logMessage(`â¸ï¸ Menjeda audio: "${currentYoutubeData.title}"`, 'info');
            }
        }

        function downloadYoutubeMusic() {
            if (!currentYoutubeAudio || !currentYoutubeData) {
                return showYoutubePopup("Error", "Tidak ada lagu yang sedang diproses");
            }
            
            const link = document.createElement('a');
            link.href = currentYoutubeAudio.src;
            link.download = `${currentYoutubeData.title}.mp3`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            updateStats('downloads');
            logMessage(`ð¥ Mengunduh: "${currentYoutubeData.title}"`, 'success');
            showYoutubePopup("Berhasil", `Mengunduh: ${currentYoutubeData.title}`);
        }

        function clearResults() {
            youtubeQuery.value = '';
            youtubeResults.innerHTML = '';
            youtubePlayer.classList.remove('active');
            downloadSection.classList.remove('active');
            youtubeStatus.innerHTML = '';
            logMessage('ðï¸ Hasil pencarian dibersihkan', 'info');
        }

        // Auto-play next track when current finishes
        youtubeAudio.addEventListener('ended', () => {
            youtubePlayPauseBtn.innerHTML = '<i class="fas fa-play"></i> Play Audio';
            logMessage(`â¹ï¸ Audio selesai: "${currentYoutubeData.title}"`, 'info');
        });

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            });

            // Initialize stats
            updateStats('searches'); // This will set all to 0 initially
            stats = { searches: 0, downloads: 0, success: 0 };
            updateStats('searches');
            
            // Log welcome message
            setTimeout(() => {
                logMessage('ð YouTube Downloader siap digunakan', 'success');
                logMessage('ð Masukkan URL atau judul video YouTube untuk memulai', 'info');
            }, 500);
        });
    </script>
</body>
</html>